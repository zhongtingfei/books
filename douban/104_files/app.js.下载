!function(t){function e(e){for(var r,a,c=e[0],u=e[1],s=e[2],f=0,p=[];f<c.length;f++)a=c[f],o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={8:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var l=u;i.push([353,1,0]),n()}([,,function(t,e,n){"use strict";n.d(e,"a",function(){return o});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},,function(t,e,n){"use strict";n.d(e,"e",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return l}),n.d(e,"n",function(){return f}),n.d(e,"i",function(){return p}),n.d(e,"o",function(){return h}),n.d(e,"s",function(){return d}),n.d(e,"x",function(){return b}),n.d(e,"d",function(){return y}),n.d(e,"l",function(){return v}),n.d(e,"m",function(){return m}),n.d(e,"w",function(){return g}),n.d(e,"v",function(){return w}),n.d(e,"q",function(){return O}),n.d(e,"z",function(){return x}),n.d(e,"b",function(){return j}),n.d(e,"r",function(){return E}),n.d(e,"c",function(){return _}),n.d(e,"j",function(){return S}),n.d(e,"k",function(){return T}),n.d(e,"u",function(){return k}),n.d(e,"t",function(){return P}),n.d(e,"y",function(){return C}),n.d(e,"p",function(){return A}),n.d(e,"a",function(){return I});var r=n(37),o=n.n(r);function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=window.Ark.channels,c={sort:"hot",sale:"",wordCount:{},price:{},page:1},u={kind:0,tags:[],progress:""},s={kind:0},l={rootKind:"",progress:""},f={kind:0,tags:[],channel:""},p={q:"",sort:"default"},h={rootTag:""},d=["","origin","book"],b=window.Ark.kindHotTagsMap,y=["hot","new","rating"],v=["price_asc","sales"],m=["default"],g=["","free","not-free"],w=["","free","promotion","rebate"],O=["","in-progress","complete"],x=[{},{max:2e4},{min:2e4,max:5e4},{min:5e4,max:1e5},{min:1e5,max:3e5},{min:3e5,max:5e5},{min:5e5}],j=[""].concat(i(a.slice(1).map(function(t){return function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,1)[0]}))),E=o()(d,["全部","原创作品","电子书"]),_=o()(y,["最热","最新","评分最高"]),S=o()(v,["价格最低","销量最高"]),T=o()(m,["综合"]),k=o()(g,["全部","免费","付费"]),P=o()(w,["全部","免费","特价","满减"]),C=o()(x,["全部","2 万字以内","2 – 5 万字","5 – 10 万字","10 – 30 万字","30 – 50 万字","50 万字以上"]),A=o()(O,["全部","连载中","已完成"]),I=[["","全部"]].concat(i(a.slice(1)))},,function(t,e,n){"use strict";var r=n(7),o=n(58),i=n(70),a=n(38),c=n(36);var u=n(23);n.d(e,"a",function(){return s});var s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,c=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(i.a)}(t,e,n);if(a?c.add(a.call(c,this.source)):c.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!c.syncErrorThrowable?this._subscribe(c):this._trySubscribe(c)),u.a.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable&&(c.syncErrorThrowable=!1,c.syncErrorThrown))throw c.syncErrorValue;return c},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,o=e.destination,i=e.isStopped;if(n||i)return!1;t=o&&o instanceof r.a?o:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:function(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:c.a}(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(2),o=n(59),i=n(70),a=n(13),c=n(58),u=n(23),s=n(43),l=function(t){function e(n,r,o){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,o)}return a}return r.a(e,t),e.prototype[c.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(a.a),f=function(t){function e(e,n,r,a){var c,u=t.call(this)||this;u._parentSubscriber=e;var s=u;return Object(o.a)(n)?c=n:n&&(c=n.next,r=n.error,a=n.complete,n!==i.a&&(s=Object.create(n),Object(o.a)(s.unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=c,u._error=r,u._complete=a,u}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(s.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(s.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(s.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(s.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},,,,,,function(t,e,n){"use strict";var r=n(118),o=n(103),i=n(59);function a(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}a.prototype=Object.create(Error.prototype);var c=a;n.d(e,"a",function(){return u});var u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,a=this._parents,u=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,p=a?a.length:0;n;)n.remove(this),n=++f<p&&a[f]||null;if(Object(i.a)(u))try{u.call(this)}catch(n){e=!0,t=n instanceof c?s(n.errors):[n]}if(Object(r.a)(l))for(f=-1,p=l.length;++f<p;){var h=l[f];if(Object(o.a)(h))try{h.unsubscribe()}catch(n){e=!0,t=t||[],n instanceof c?t=t.concat(s(n.errors)):t.push(n)}}if(e)throw new c(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var o=this._subscriptions;o?o.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((e=new t).closed=!0,e),t}();function s(t){return t.reduce(function(t,e){return t.concat(e instanceof c?e.errors:e)},[])}},,function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n(0),o=n.n(r);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a={filterData:n(4).e,list:[],total:0,syncState:{isSyncing:!1,isSyncFailed:!1,isSyncSuccess:!1}},c=Object(r.createContext)({filterState:a,history:{push:function(){}},filterOptions:{}});function u(t){return function(e){return o.a.createElement(c.Consumer,null,function(n){var r=n.history,a=n.filterState,c=n.filterOptions;return o.a.createElement(t,i({},e,{history:r,filterState:a,filterOptions:c}))})}}e.a=c},,,,function(t,e,n){"use strict";n.d(e,"f",function(){return v}),n.d(e,"d",function(){return w}),n.d(e,"c",function(){return O}),n.d(e,"b",function(){return x}),n.d(e,"a",function(){return j}),n.d(e,"e",function(){return E}),n.d(e,"g",function(){return _});var r=n(63),o=n.n(r),i=n(129),a=n.n(i),c=n(117),u=n.n(c),s=n(37),l=n.n(s),f=n(3),p=n(4),h=n(25),d=n(130);function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){y(t,e,n[e])})}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e){Object(h.d)(t.kind)||!e.isCategory&&!e.isSpecialOrigin||(t.kind=f.d);var n=O(t,e),r=function(t,e){var n=Object(h.b)(t),r=e.isSearch;return{rootKind:p.s,kind:Object.values(f.e),sort:(r?p.m:[]).concat(p.d).concat("book"===n?p.l:[]),tags:p.x[t.kind]||[],sale:"book"===n?p.v:p.w,wordCount:p.z,progress:p.q,channel:p.b}}(t,e);return Object.keys(n).reduce(function(e,o){return b({},e,function(t,e,n,r){switch(e){case"rootKind":return{rootKind:t.rootKind||r};case"kind":return{kind:t.kind};case"sort":var o=t.sort;return{sort:n.sort.includes(o)?o:r};case"tags":var i=n.tags;return Array.isArray(t.tags)&&i?{tags:t.tags.filter(function(t){return i.includes(t)})}:i?{tags:r}:{};case"sale":var c=t.sale;return{sale:n.sale.includes(c)?c:r};case"wordCount":case"price":var u=a()(r),s=t[e]||{},l=s.max,f=s.min;return m(l)&&(u.max=l),m(f)&&(u.min=f),y({},e,u);case"progress":var p=t.progress;return{progress:n.progress.includes(p)?p:r};case"channel":var h=t.channel;return{channel:n.channel.includes(h)?h:r};case"page":return{page:t.page||r};case"q":return{q:t.q||r};case"rootTag":return{rootTag:t.rootTag||r};default:return{}}}(t,o,r,n[o]))},{})}function m(t){return Number.isSafeInteger(t)&&t>0}var g=function(t){return String(t).replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")};function w(t){var e=t.max,n=t.min,r=g;return e&&n?"".concat(r(n)," – ").concat(r(e)," 字"):n?"".concat(r(n)," 字以上"):e?"".concat(r(e)," 字以下"):null}function O(t,e){var n=e.isCategory,r=e.isSpecialOrigin,o=e.isSearch,i=e.isTag,a="origin"===Object(h.b)(t),c=b({},p.e);return n?c=b({},c,a?p.h:p.f):r?c=b({},c,p.n):a&&(c=b({},c,p.g)),o&&(c=b({},c,p.i)),i&&(c=b({},c,p.o)),void 0===c.kind&&void 0===c.rootKind&&(c.rootKind=""),c}function x(t,e){var n=t.kind,r=Object(h.b)(t),o=p.x[n]||[],i=e.isSearch,a=e.isTag;return{rootKind:i||a?p.r:[],tags:l()(o,o),sale:"book"===r?p.t:p.u,wordCount:e.isSpecialOrigin?[]:p.y,progress:"origin"!==r||e.isSpecialOrigin?[]:p.p,channel:e.isSpecialOrigin?p.a:[]}}function j(t,e){var n=O(t,e);return Object.keys(n).reduce(function(e,r){return o()(t[r],n[r])||(e[r]=t[r]),e},{})}function E(t,e,n){var r=b({},t,e);return!e.page&&(r.page=1),Object(d.a)(j(v(r,n),n))}var S=u()(p.v,p.w).filter(function(t){return!!t});function _(t){var e={};return Object.keys(t).forEach(function(n){switch(n){case"rootKind":case"kind":case"sort":case"channel":case"page":case"q":e[n]=t[n];break;case"tags":e.tags=(e.tags||[]).concat(t.tags);break;case"rootTag":e.tags=(e.tags||[]).concat(t.rootTag);break;case"sale":case"price":var r=t.price,o=r.max,i=r.min;if(Number.isSafeInteger(i)&&i>=0&&(e.minPrice=i),Number.isSafeInteger(o)&&o>=0&&(e.maxPrice=o),S.includes(t.sale)){var a={free:{minPrice:0,maxPrice:0},"not-free":{minPrice:Math.max(1,e.minPrice||0)},promotion:{isPromotion:!0},rebate:{isRebate:!0}}[t.sale];for(var c in a)a.hasOwnProperty(c)&&(e[c]=a[c])}break;case"wordCount":var u=t.wordCount,s=u.max,l=u.min;Number.isSafeInteger(l)&&(e.minWordCount=l),Number.isSafeInteger(s)&&(e.maxWordCount=s);break;case"progress":t.progress&&(e.isFinished="complete"===t.progress)}}),e}},,,,function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},,function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return u});var r=n(71),o=n(3);function i(t){return!!r.b[t]}function a(t){var e=t.kind,n=t.rootKind;return i(e)||"origin"===n?"origin":function(t){return!!r.a[t]}(e)||"book"===n?"book":null}function c(t){return!!o.e[t]}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i(t);return{id:null,name:null,isBaseKind:!0,children:(e?[o.d,o.a,o.b]:n?[o.d]:[o.a,o.b]).map(function(t){return o.e[t]})}}},,,,,,,,,,,function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(85)(n(387));t.exports=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},,function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(150),u=n.n(c),s=n(15),l=n(19);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function p(t){var e,n=t.filter,r=void 0===n?{}:n,i=t.filterState,a=t.filterOptions,c=t.history,s=t.eventType,p=void 0===s?"click":s,h=t.children,d=t.showHref,b=void 0!==d&&d,y=t.disableLink,v=void 0!==y&&y,m=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,["filter","filterState","filterOptions","history","eventType","children","showHref","disableLink"]),g=i.filterData,w=function(){if(!v){var t=Object(l.e)(g,r,a);c.push(t)}};if("mouseenter"===p){var O=u()(w,300);e={onMouseEnter:function(){return O()},onMouseLeave:function(){return O.cancel()},onClick:function(t){t.preventDefault(),O.cancel(),w()}}}else e={onClick:function(t){t.preventDefault(),w()}};return o.a.createElement("a",f({href:b?Object(l.e)(g,r,a):void 0},e,m),h)}p.propTypes={filter:a.a.object,filterState:a.a.object.isRequired,filterOptions:a.a.object.isRequired,history:a.a.object.isRequired,eventType:a.a.string,children:a.a.oneOfType([a.a.string,a.a.node]).isRequired,showHref:a.a.bool,disableLink:a.a.bool},e.a=Object(s.c)(p)},,,function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},,function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return i});var r=20,o=400,i="/tag/"},,,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(2),o=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(7).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(49),o=n(104);function i(t,e,n,i,a){if(void 0===a&&(a=new r.a(t,n,i)),!a.closed)return Object(o.a)(e)(a)}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(7).a)},,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(6),o=n(13),i=n(107);function a(t,e){return e?new r.a(function(n){var r=new o.a,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}):new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},,function(t,e,n){"use strict";var r=Array.isArray,o=Object.keys,i=Object.prototype.hasOwnProperty,a="undefined"!=typeof Element;t.exports=function(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var c,u,s,l=r(e),f=r(n);if(l&&f){if((u=e.length)!=n.length)return!1;for(c=u;0!=c--;)if(!t(e[c],n[c]))return!1;return!0}if(l!=f)return!1;var p=e instanceof Date,h=n instanceof Date;if(p!=h)return!1;if(p&&h)return e.getTime()==n.getTime();var d=e instanceof RegExp,b=n instanceof RegExp;if(d!=b)return!1;if(d&&b)return e.toString()==n.toString();var y=o(e);if((u=y.length)!==o(n).length)return!1;for(c=u;0!=c--;)if(!i.call(n,y[c]))return!1;if(a&&e instanceof Element&&n instanceof Element)return e===n;for(c=u;0!=c--;)if(!("_owner"===(s=y[c])&&e.$$typeof||t(e[s],n[s])))return!1;return!0}return e!=e&&n!=n}(t,e)}catch(t){if(t.message&&t.message.match(/stack|recursion/i)||-2146828260===t.number)return console.warn("Warning: react-fast-compare does not handle circular references.",t.name,t.message),!1;throw t}}},,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(23),o=n(43),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var r=n(3);function o(t){return"number"==typeof t&&(t=[t]),Object.values(r.e).reduce(function(e,n){return[].concat(function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(n.elders),[n]).some(function(e){return t.includes(e.id)})&&(e[n.id]=n),e},{})}var i=o(r.d),a=o([r.a,r.b])},function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return o}),r.prototype=Object.create(Error.prototype);var o=r},,,,,,function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(15),u=n(120),s=n(75),l=n(131),f=n(19),p=n(45);function h(t){var e=t.filterState,n=t.filterOptions,i=t.history,a=e.filterData,c=e.total,h=e.list,d=e.syncState,b=d.isSyncing,y=d.isSyncFailed,v=function(t){return Object(f.e)(a,{page:t},n)},m=Math.min(p.b,Math.max(h.length,6));return o.a.createElement(r.Fragment,null,o.a.createElement("section",{className:"section-container"},o.a.createElement("div",{className:"section-works"},o.a.createElement("ul",{className:"works-list"},b?function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(Array(m).keys()).map(function(t){return o.a.createElement(s.a,{key:t,Tag:"li",animate:!0})}):o.a.createElement(l.a,{list:h,filterData:a,filterOptions:n})),y&&o.a.createElement("div",{className:"loading-error-container"},"获取数据失败，请重试",o.a.createElement("button",{className:"btn btn-refresh",onClick:function(){return i.push(v(a.page))}},"点击重试"))),c>0&&o.a.createElement(u.a,{numberPerPage:p.b,page:a.page,totalNumber:c,onPageTurning:function(t){return i.push(v(t))},getPageHref:function(t){return v(t)}})))}h.propTypes={filterState:a.a.object.isRequired,filterOptions:a.a.object.isRequired,history:a.a.object.isRequired},e.a=Object(c.c)(h)},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(122),u=n(6),s=n(61),l=n(121),f=n(60),p=n(2),h=n(7),d=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new b(t,this.accumulator,this.seed,this.hasSeed))},t}(),b=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return p.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(h.a),y=n(15),v=n(130),m=n(19);function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){w(t,e,n[e])})}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O,x=function(t,e){return{type:"UPDATE_FILTER",payload:g({},e,{filterData:Object(m.f)(Object(v.b)(t),e.filterOptions)})}};function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=(j(O={},"UPDATE_FILTER",function(t){return{filterData:t.action.payload.filterData}}),j(O,"START_FILTERING",function(){return{syncState:{isSyncing:!0,isSyncSuccess:!1,isSyncFailed:!1}}}),j(O,"SUCCEEDED_FILTERING",function(t){var e=t.action;return{list:e.payload.list,total:e.payload.total,syncState:{isSyncing:!1,isSyncSuccess:!0}}}),j(O,"FAILED_FILTERING",function(){return{list:[],total:0,syncState:{isSyncing:!1,isSyncFailed:!0}}}),O),S=function(t,e){return e.type in E?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){j(t,e,n[e])})}return t}({},t,E[e.type]({state:t,action:e})):t},_=n(112),T=n(175),k=n(13),P=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return p.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return p.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(k.a)),C=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),A=new(function(t){function e(n,r){void 0===r&&(r=C.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return p.a(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(C))(P),I=n(118);function N(t){return!Object(I.a)(t)&&t-parseFloat(t)+1>=0}function R(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var D=n(412),F=n(407),q=n(408),z=n(111),L=n(409);function U(){return function(t){return t.lift(new B(t))}}var B=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new K(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),K=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return p.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(h.a),M=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return p.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new k.a).add(this.source.subscribe(new Y(this.getSubject(),this))),t.closed?(this._connection=null,t=k.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return U()(this)},e}(u.a).prototype,H={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:M._subscribe},_isComplete:{value:M._isComplete,writable:!0},getSubject:{value:M.getSubject},connect:{value:M.connect},refCount:{value:M.refCount}},Y=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return p.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(c.b);h.a;!function(){function t(t,e){this.subjectFactory=t,this.selector=e}t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(t);return o.add(e.subscribe(r)),o}}();function W(){return new c.a}var V=n(51),Z=n(50),G=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new X(t),r=Object(Z.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),X=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return p.a(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(V.a),J=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.total))},t}(),Q=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return p.a(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(h.a);function tt(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}tt.prototype=Object.create(Error.prototype);var et=tt,nt=(n(119),function(){function t(t){if(this.total=t,this.total<0)throw new et}return t.prototype.call=function(t,e){return e.subscribe(new rt(t,this.total))},t}()),rt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return p.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(h.a),ot=n(36),it=n(59),at=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new ct(t,this.nextOrObserver,this.error,this.complete))},t}(),ct=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=ot.a,i._tapError=ot.a,i._tapComplete=ot.a,i._tapError=r||ot.a,i._tapComplete=o||ot.a,Object(it.a)(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||ot.a,i._tapError=n.error||ot.a,i._tapComplete=n.complete||ot.a),i}return p.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(h.a),ut=n(26),st=n(12),lt=n(69),ft=n(131),pt=n(132),ht=n(45);function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bt=function(t){return t.pipe(Object(F.a)(function(t){return"UPDATE_FILTER"===t.type}),Object(q.a)(function(t){var e,n,r=t.payload,o=r.filterData,i=r.filterOptions,a=r.apiUrl,c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){dt(t,e,n[e])})}return t}({},Object(m.g)(o),{query:ft.a.query(Object(pt.a)(o,i)),variables:{user_id:ut.a.id||""}}),l=Object(_.a)(st.b.post(a,c)).pipe(Object(z.a)(function(t){return{type:"SUCCEEDED_FILTERING",payload:t}}),Object(L.a)(function(){return Object(T.a)({type:"FAILED_FILTERING"})}),function(t){return U()((e=W,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,H);return r.source=t,r.subjectFactory=n,r})(t));var e}),f=function(t,e,n){void 0===t&&(t=0);var r=-1;return N(e)?r=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e),Object(s.a)(n)||(n=A),new u.a(function(e){var o=N(t)?t:+t-n.now();return n.schedule(R,o,{index:0,period:r,subscriber:e})})}(ht.a);return Object(D.a)(Object(T.a)({type:"START_FILTERING"}),Object(D.a)(l.pipe((n=f,function(t){return t.lift(new G(n))})),Object(D.a)(f,l).pipe((1,function(t){return t.lift(new J(1))}))).pipe(function(t){return t.lift(new nt(1))},(e=function(){Object(lt.a)({top:0,behavior:"smooth"})},function(t){return t.lift(new at(e,void 0,void 0))})))}))};function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xt=function(t){function e(t){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this,r=mt(e).call(this,t),n=!r||"object"!==yt(r)&&"function"!=typeof r?gt(this):r,Ot(gt(n),"locationListener",function(t){var e=n.props.apiUrl,r=n.extractFilterOptions();n.action$.next(x(t,{filterOptions:r,apiUrl:e}))}),Ot(gt(n),"updateFilterState",function(t){n.setState({filterState:t})}),Ot(gt(n),"extractFilterOptions",function(){var t=n.props;return{isCategory:t.isCategory,isSpecialOrigin:t.isSpecialOrigin,isSearch:t.isSearch,isTag:t.isTag}}),n.state={filterState:y.b},n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,r.Component),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.props.history;this.action$=new c.a;var e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return Object(s.a)(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof u.a?t[0]:Object(l.a)(n)(Object(f.a)(t,r))}(this.action$,bt(this.action$)).pipe(function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new d(t,e,n))}}(S,y.b));this.filterStateSubscriber=e.subscribe(this.updateFilterState),this.unlisten=t.listen(this.locationListener),this.locationListener(t.location)}},{key:"componentWillUnmount",value:function(){this.unlisten(),this.filterStateSubscriber.unsubscribe(),this.action$.complete()}},{key:"render",value:function(){var t=this.props,e=t.history,n=t.children,r=this.state.filterState,i=this.extractFilterOptions();return o.a.createElement(y.a.Provider,{value:{filterState:r,history:e,filterOptions:i}},o.a.createElement("div",{className:"filter-main"},n))}}])&&vt(n.prototype,i),e}();xt.propTypes={history:a.a.object.isRequired,isCategory:a.a.bool,isSearch:a.a.bool,isSpecialOrigin:a.a.bool,isTag:a.a.bool,children:a.a.node.isRequired,apiUrl:a.a.string.isRequired},e.a=xt},,,,,,,,function(t,e,n){var r=n(146),o=n(192);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var c=-1,u=e.length;++c<u;){var s=e[c],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),a?o(n,s,l):r(n,s,l)}return n}},,,,,,function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(9),u=n.n(c),s=n(210),l=n.n(s),f=n(88);function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var h=function(t){t.styles;var e=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["styles"]);return o.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 6"},e),o.a.createElement("path",{fill:"#68abb7",d:"M0 4.9L.92 6 5.5 1.9 10.08 6 11 4.9 5.52 0 0 4.9z"}))};function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function b(t){var e=t.label,n=t.isExpanded,r=t.onClick,i=t.innerRef,a=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,["label","isExpanded","onClick","innerRef"]);return o.a.createElement("a",d({className:"select-control ".concat(n?"expand":""),onClick:r,href:"#",ref:i},a),e,o.a.createElement(h,{width:9,height:4,className:"icon-arrow-up"}))}b.propTypes={label:a.a.string.isRequired,isExpanded:a.a.bool.isRequired,onClick:a.a.func.isRequired,innerRef:a.a.func.isRequired};var y=n(129),v=n.n(y),m=n(3),g=n(25),w=n(40);function O(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(t){var e=t.selectedKindId;return o.a.createElement("div",null,Object(g.c)(e)?o.a.createElement(E,t):o.a.createElement(_,t))}function j(t){var e=t.selectedKindId,n=t.parentKind,r=t.showParentKindLabel,i=void 0!==r&&r,a=t.showParentKind,c=void 0===a||a,s=t.selectType,l=void 0===s?"click":s,f=t.className,p=void 0===f?"":f;if(!n.children.length)return null;var h,d=m.e[e];return h=n.id===m.c?v()(n.children).sort(function(t,e){return e.name.length-t.name.length||t.id-e.id}):n.children,c&&(h=[n].concat(O(h))),o.a.createElement("div",{className:"select-group ".concat(p)},i&&o.a.createElement("span",{className:"select-label"},n.name),o.a.createElement("ul",{className:"select-option-list"},h.map(function(t){var r=t.id,i=r===n.id,a=e===r||d.elders.some(function(t){return t.id===r})&&n.id!==r,c=u()({"select-option":!0,selected:a}),s=i?"全部":t.name;return t.altName&&!i&&(s=t.altName+" "+s),o.a.createElement("li",{key:r},o.a.createElement(w.a,{className:c,"data-kind-id":r,filter:{kind:r},eventType:l,showHref:!0},s))})))}function E(t){var e=t.selectedKindId,n=m.e[e],i=[].concat(O(n.elders),[n]);return o.a.createElement(r.Fragment,null,i.map(function(t){return o.a.createElement(j,{selectedKindId:e,parentKind:t,showParentKindLabel:!1,showParentKind:t.id===m.c,key:t.name})}))}function _(t){var e=t.selectedKindId,n=m.e[e],i=[Object(g.a)(e)];return n&&(i=i.concat(n.elders,n)),o.a.createElement(r.Fragment,null,i.map(function(t){return o.a.createElement(j,{selectedKindId:e,parentKind:t,showParentKindLabel:!1,showParentKind:!t.isBaseKind,key:t.name,className:"book-kind"})}))}j.propTypes={selectedKindId:a.a.number.isRequired,parentKind:a.a.object.isRequired,showParentKindLabel:a.a.bool,showParentKind:a.a.bool,selectType:a.a.string,className:a.a.string},x.propTypes={selectedKindId:a.a.number},E.propTypes=x.propTypes,_.propTypes=x.propTypes;var S=x,T=n(63),k=n.n(T),P=n(19);function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(t){var e=t.label,n=t.checkSelected,r=t.checkCouldSelect,i=t.optionPairs,a=t.transformOptionToFilter,c=t.optionToKey;return o.a.createElement("div",{className:"select-group"},o.a.createElement("span",{className:"select-label"},e),o.a.createElement("ul",{className:"select-option-list"},i.map(function(t){var e=C(t,2),i=e[0],u=e[1],s=n(i),l=r?r(i):!s;return o.a.createElement("li",{key:"function"==typeof c?c(i):i},o.a.createElement(w.a,{className:"select-option ".concat(s?"selected":""),filter:a(i),disableLink:!l},u))})))}function I(t){var e=t.filterData,n=t.filterOptions,r=Object(P.b)(e,n),i=r.rootKind,a=r.tags,c=r.sale,u=r.wordCount,s=r.progress,l=r.channel,f=u.some(function(t){var n=C(t,1)[0];return k()(n,e.wordCount)}),p=u.concat(f?[]:[[e.wordCount,Object(P.d)(e.wordCount)]]);return o.a.createElement("div",null,i.length>0&&o.a.createElement(A,{label:"类型",checkSelected:function(t){return e.rootKind===t},optionPairs:i,transformOptionToFilter:function(t){return{rootKind:t}}}),a.length>0&&o.a.createElement(A,{label:"标签",checkSelected:function(t){return Array.isArray(e.tags)&&e.tags.includes(t)},checkCouldSelect:function(){return!0},optionPairs:a,transformOptionToFilter:function(t){return{tags:[t]}}}),l.length>0&&o.a.createElement(A,{label:"频道",checkSelected:function(t){return e.channel===t},optionPairs:l,transformOptionToFilter:function(t){return{channel:t}}}),o.a.createElement(A,{label:"价格",checkSelected:function(t){return e.sale===t},optionPairs:c,transformOptionToFilter:function(t){return{sale:t}}}),u.length>0&&o.a.createElement(A,{label:"字数",checkSelected:function(t){return k()(t,e.wordCount)},optionPairs:p,transformOptionToFilter:function(t){return{wordCount:t}},optionToKey:function(t){var e=t.min,n=t.max;return"".concat(e," - ").concat(n)}}),s.length>0&&o.a.createElement(A,{label:"进度",checkSelected:function(t){return e.progress===t},optionPairs:s,transformOptionToFilter:function(t){return{progress:t}}}))}A.propTypes={label:a.a.string.isRequired,checkSelected:a.a.func.isRequired,checkCouldSelect:a.a.func,optionPairs:a.a.array.isRequired,transformOptionToFilter:a.a.func.isRequired,optionToKey:a.a.func},I.propTypes={filterData:a.a.object.isRequired,filterOptions:a.a.object.isRequired};var N=I,R=n(4);function D(t){var e=t.filterData,n=t.filterOptions,r=e.sort,i="book"===Object(g.b)(e),a=(n.isSearch?R.k:[]).concat(R.c).concat(i?R.j:[]);return o.a.createElement("div",{className:"sort-selector"},a.map(function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,2),n=e[0],i=e[1];return o.a.createElement(w.a,{className:"sort-option ".concat(r===n?"selected":""),key:n,filter:{sort:n}},i)}))}D.propTypes={filterData:a.a.object.isRequired,filterOptions:a.a.object.isRequired};var F=D,q=n(214),z=n.n(q);function L(){return(L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var U=function(t){t.styles;var e=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["styles"]);return o.a.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13.06 13.06"},e),o.a.createElement("path",{fill:"#68abb7",d:"M13.06 1.06L12 0 6.53 5.47 1.06 0 0 1.06l5.47 5.47L0 12l1.06 1.06 5.47-5.47L12 13.06 13.06 12 7.59 6.53l5.47-5.47z"}))};function B(t){var e=t.name,n=t.transformRemovedOptionToFilter;return o.a.createElement("span",{className:"crumb-item"},e,o.a.createElement(w.a,{className:"crumb-delete",filter:n(e)},o.a.createElement(U,{width:9,height:9,className:"icon-cross fill-current-color"})))}function K(t,e){var n=t.find(function(t){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,1)[0];return k()(n,e)});return n?n[1]:null}function M(t){var e=t.filterData,n=t.filterOptions,r=Object(P.c)(e,n),i=Object(P.b)(e,n),a=i.rootKind,c=i.sale,u=i.wordCount,s=i.progress,l=i.channel,f=Object(P.a)(e,n),p=f.rootKind,h=f.tags,d=f.sale,b=f.wordCount,y=f.progress,v=f.channel;return o.a.createElement("div",{className:"toolbar-crumbs"},p&&o.a.createElement(B,{name:K(a,p),transformRemovedOptionToFilter:function(){return{rootKind:r.rootKind}}}),Array.isArray(h)&&h.map(function(t){return o.a.createElement(B,{name:t,key:t,transformRemovedOptionToFilter:function(){return{tags:z()(h,t)}}})}),d&&o.a.createElement(B,{name:K(c,d),transformRemovedOptionToFilter:function(){return{sale:r.sale}}}),b&&o.a.createElement(B,{name:K(u,b)||Object(P.d)(b),transformRemovedOptionToFilter:function(){return{wordCount:r.wordCount}}}),y&&o.a.createElement(B,{name:K(s,y),transformRemovedOptionToFilter:function(){return{progress:r.progress}}}),v&&o.a.createElement(B,{name:K(l,v),transformRemovedOptionToFilter:function(){return{channel:r.channel}}}))}B.propTypes={name:a.a.string.isRequired,transformRemovedOptionToFilter:a.a.func.isRequired},M.propTypes={filterData:a.a.object.isRequired,filterOptions:a.a.object.isRequired};var H=M,$=n(15);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=function(t){function e(t){var n,r,o,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this,r=V(e).call(this,t),n=!r||"object"!==Y(r)&&"function"!=typeof r?Z(this):r,a=function(t){t.preventDefault();var e=n.state,r=e.kindPanelExpanded,o=e.attributePanelExpanded,i=n.kindSelectControl&&n.kindSelectControl.contains(t.target),a=n.attributeSelectControl&&n.attributeSelectControl.contains(t.target);(i||a)&&t.stopPropagation(),n.setState({kindPanelExpanded:!!i&&!r,attributePanelExpanded:!!a&&!o})},(i="handleClickControlOrOutsidePanel")in(o=Z(n))?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,n.state={kindPanelExpanded:!1,attributePanelExpanded:!1},n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,r.Component),n=e,(i=[{key:"componentDidMount",value:function(){var t=this;"#expand"===location.hash&&setTimeout(function(){return t.setState({kindPanelExpanded:!0})})}},{key:"render",value:function(){var t=this,e=this.props,n=e.filterState,r=e.filterOptions,i=n.filterData,a=this.state,c=a.kindPanelExpanded,s=a.attributePanelExpanded,p=r.isCategory,h="book"===Object(g.b)(i),d=o.a.createElement("section",{className:"section-container"},o.a.createElement("div",{className:"filter-toolbar"},o.a.createElement("div",{className:"inner"},o.a.createElement("div",{className:"selector-control-container"},p&&o.a.createElement(b,{label:"分类",isExpanded:c,onClick:this.handleClickControlOrOutsidePanel,innerRef:function(e){return t.kindSelectControl=e},style:{width:"80px"}}),o.a.createElement(b,{label:"筛选",isExpanded:s,onClick:this.handleClickControlOrOutsidePanel,innerRef:function(e){return t.attributeSelectControl=e},style:{width:"80px"}})),o.a.createElement(H,{filterData:i,filterOptions:r}),o.a.createElement(F,{filterData:i,filterOptions:r})),p&&c&&o.a.createElement(f.a,{onClickOutside:this.handleClickControlOrOutsidePanel,className:u()("selector-panel",{"book-kind":h})},o.a.createElement(S,{selectedKindId:i.kind})),s&&o.a.createElement(f.a,{onClickOutside:this.handleClickControlOrOutsidePanel,className:"selector-panel attribute-selector",style:{left:p?"80px":0}},o.a.createElement(N,{filterData:i,filterOptions:r}))));return o.a.createElement(l.a,{top:0,innerZ:1,activeClass:"toolbar-sticky"},d)}}])&&W(n.prototype,i),e}();X.propTypes={filterState:a.a.object.isRequired,filterOptions:a.a.object.isRequired},e.a=Object($.c)(X)},,,,,,,,,function(t,e,n){var r=n(279);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(6),o=n(107),i=n(109),a=n(110),c=n(105),u=n(106),s=n(108),l=n(103),f=n(48),p=n(38),h=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[p.a])return Object(c.a)(t);if(Object(u.a)(t))return Object(o.a)(t);if(Object(s.a)(t))return Object(i.a)(t);if(t&&"function"==typeof t[f.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(38),o=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(43),o=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(48),o=function(t){return function(e){for(var n=t[r.a]();;){var o=n.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(2),o=n(7);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.thisArg))},t}(),c=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.a)},function(t,e,n){"use strict";var r=n(6),o=n(108),i=n(106),a=n(38),c=n(48),u=n(60),s=n(13),l=n(109),f=n(110),p=n(105),h=n(104);function d(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(h.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return e?new r.a(function(n){var r=new s.a;return r.add(e.schedule(function(){var o=t[a.a]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}):new r.a(Object(p.a)(t))}(t,e);if(Object(o.a)(t))return function(t,e){return e?new r.a(function(n){var r=new s.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}):new r.a(Object(l.a)(t))}(t,e);if(Object(i.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return e?new r.a(function(n){var r,o=new s.a;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[c.a](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),o}):new r.a(Object(f.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return d})},,,,function(t,e,n){var r=n(186),o=n(362),i=n(86);t.exports=function(t){return i(t)?r(t):o(t)}},,function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(6),o=new r.a(function(t){return t.complete()});function i(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):o}},,function(t,e,n){"use strict";var r=n(2),o=n(50),i=n(51),a=n(49),c=n(111),u=n(112),s=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}(),l=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(o.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.a);function f(t){return t}function p(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(t(function(t,r){return Object(u.a)(e(t,r)).pipe(Object(c.a)(function(e,o){return n(t,e,r,o)}))},r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new s(e,r))})}(f,t)}n.d(e,"a",function(){return p})},function(t,e,n){"use strict";var r=n(2),o=n(6),i=n(7),a=n(13),c=n(72),u=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),s=n(58);n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f});var l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.a(e,t),e}(i.a),f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.a(e,t),e.prototype[s.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new c.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new c.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new c.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new c.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new c.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new o.a;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(o.a),p=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(f)},,,,,,,function(t,e,n){var r=n(191);t.exports=function(t){return r(t,5)}},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return s});var r=n(208),o=n.n(r),i=n(34);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=/\/tag\/(\S+)\//;function u(t){var e=t.search,n=t.pathname,r={},u=(n.match(c)||[])[1];u&&(r.rootTag=u);var s=Object.entries(Object(i.deparam)(e.slice(1))).reduce(function(t,e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),r=n[0],i=n[1];return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}({},t,a({},o()(r),i))},{});return Object.keys(s).forEach(function(t){switch(t){case"kind":case"wordCount":case"page":r[t]=0|s[t];break;case"tags":r[t]=s[t].split("+");break;case"maxWordCount":case"minWordCount":r.wordCount={max:+s.maxWordCount,min:+s.minWordCount};break;case"maxPrice":case"minPrice":r.price={max:+s.maxPrice,min:+s.minPrice};break;default:r[t]=s[t]}}),r}function s(t){var e=location.pathname,n={};return Object.keys(t).forEach(function(r){switch(r){case"rootTag":e=function(t,e){return t.replace(/(\/tag\/)\S+(\/)/,"$1".concat(e,"$2"))}(e,t.rootTag);break;case"tags":t[r].length&&(n[r]=t[r].join("+"));break;case"wordCount":var o=t[r],i=o.max,a=o.min;n.maxWordCount=i,n.minWordCount=a;break;case"price":var c=t[r],u=c.max,s=c.min;n.maxPrice=u,n.minPrice=s;break;default:void 0!==t[r]&&(n[r]=t[r])}}),Object(i.addParam)(e,n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(64),u=n(132);function s(t){var e=t.list,n=t.filterData,i=t.filterOptions,a=(n.q||"").split(/[\s\+\*\?\|,]+/),s=Object(u.a)(n,i),l=s.includeRating,f=s.includeUpdateTime,p=s.includeSaleInfo,h=s.includePurchase;return o.a.createElement(r.Fragment,null,e.map(function(t){var e=t.kinds.find(function(t){return t.id===n.kind});return o.a.createElement(c.a,{key:t.id,works:t,stickyKindId:e&&e.id,showRating:l,showUpdateTime:f,showSaleInfo:!t.isOrigin||p,showPurchase:!t.isOrigin&&h,shortenKindName:!0,highlightWords:a,Tag:"li"})}))}s.query=function(t){return"\n    query getFilterWorksList($works_ids: [ID!], $user_id: ID) {\n      worksList(worksIds: $works_ids) {\n        ".concat(c.a.query(t),"\n        id\n        isOrigin\n      }\n    }\n  ")},s.propTypes={list:a.a.array.isRequired,filterData:a.a.object.isRequired,filterOptions:a.a.object.isRequired}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(26);function o(t,e){var n=!(!["hot","rating"].includes(t.sort)&&!e.isSpecialOrigin),o=["new"].includes(t.sort),i="not-free"===t.sale;return{user:r.a,includeRating:n,includeUpdateTime:o,includeSaleInfo:i,includePurchase:!0,includeProgressInfo:!0}}},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(80),u=n(45),s=n(15);function l(t){var e=t.filterState,n=e.filterData,r=e.total,i=e.syncState.isSyncSuccess,a=n.rootTag;return o.a.createElement("section",{className:"section-container"},o.a.createElement("div",{className:"tag-breadcrumbs"},o.a.createElement("span",{className:"breadcrumb"},a?o.a.createElement(c.a,{to:u.c},"标签"):o.a.createElement("em",null,"标签")),a&&o.a.createElement("span",{className:"breadcrumb"},o.a.createElement("em",null,a),i&&"（".concat(r,"）"))))}l.propTypes={filterState:a.a.object.isRequired},e.a=Object(s.c)(l)},,,,,,function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},,,,,,,function(t,e,n){var r=n(192),o=n(100),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(194),o=n(195),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o;t.exports=c},function(t,e,n){var r=n(371),o=n(136),i=n(372),a=n(168),c=n(373),u=n(82),s=n(164),l=s(r),f=s(o),p=s(i),h=s(a),d=s(c),b=u;(r&&"[object DataView]"!=b(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=b(new o)||i&&"[object Promise]"!=b(i.resolve())||a&&"[object Set]"!=b(new a)||c&&"[object WeakMap]"!=b(new c))&&(b=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=b},function(t,e,n){var r=n(376);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},,,,,function(t,e,n){(function(e){for(var r=n(401),o="undefined"==typeof window?e:window,i=["moz","webkit"],a="AnimationFrame",c=o["request"+a],u=o["cancel"+a]||o["cancelRequest"+a],s=0;!c&&s<i.length;s++)c=o[i[s]+"Request"+a],u=o[i[s]+"Cancel"+a]||o[i[s]+"CancelRequest"+a];if(!c||!u){var l=0,f=0,p=[];c=function(t){if(0===p.length){var e=r(),n=Math.max(0,1e3/60-(e-l));l=n+e,setTimeout(function(){var t=p.slice(0);p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return p.push({handle:++f,callback:t,cancelled:!1}),f},u=function(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}t.exports=function(t){return c.call(o,t)},t.exports.cancel=function(){u.apply(o,arguments)},t.exports.polyfill=function(t){t||(t=o),t.requestAnimationFrame=c,t.cancelAnimationFrame=u}}).call(this,n(66))},,,,,,function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(61),o=n(60),i=n(119),a=n(6);function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,c,u=t[t.length-1];switch(Object(r.a)(u)?t.pop():u=void 0,t.length){case 0:return Object(i.a)(u);case 1:return u?Object(o.a)(t,u):(n=t[0],(c=new a.a(function(t){t.next(n),t.complete()}))._isScalar=!0,c.value=n,c);default:return Object(o.a)(t,u)}}n.d(e,"a",function(){return c})},,,,,,,,,,,,,,,,function(t,e,n){var r=n(354),o=n(360),i=n(146),a=n(361),c=n(364),u=n(365),s=n(366),l=n(367),f=n(368),p=n(369),h=n(370),d=n(148),b=n(374),y=n(375),v=n(381),m=n(83),g=n(188),w=n(383),O=n(42),x=n(385),j=n(116),E="[object Arguments]",S="[object Function]",T="[object Object]",k={};k[E]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[T]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[S]=k["[object WeakMap]"]=!1,t.exports=function t(e,n,P,C,A,I){var N,R=1&n,D=2&n,F=4&n;if(P&&(N=A?P(e,C,A,I):P(e)),void 0!==N)return N;if(!O(e))return e;var q=m(e);if(q){if(N=b(e),!R)return s(e,N)}else{var z=d(e),L=z==S||"[object GeneratorFunction]"==z;if(g(e))return u(e,R);if(z==T||z==E||L&&!A){if(N=D||L?{}:v(e),!R)return D?f(e,c(N,e)):l(e,a(N,e))}else{if(!k[z])return A?e:{};N=y(e,z,R)}}I||(I=new r);var U=I.get(e);if(U)return U;if(I.set(e,N),x(e))return e.forEach(function(r){N.add(t(r,n,P,r,e,I))}),N;if(w(e))return e.forEach(function(r,o){N.set(o,t(r,n,P,o,e,I))}),N;var B=F?D?h:p:D?keysIn:j,K=q?void 0:B(e);return o(K||e,function(r,o){K&&(r=e[o=r]),i(N,o,t(r,n,P,o,e,I))}),N}},function(t,e,n){var r=n(163);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(137),o=n(197),i=n(147),a=n(195),c=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=c},function(t,e,n){var r=n(193)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(137),o=n(83);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},,,,,,,,,function(t,e,n){"use strict";(function(t){var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(20),u=n(94),s=n(65),l=n(27),f=n(17),p=n(79),h=n(78),d=n(93),b=n(209),y=n(215),v=n(216),m=n(217),g=n(133),w=n(218),O=n(15),x=n(25);function j(){return(j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var E=[{path:"/category",exact:!0,render:function(t){var e=t.history;return o.a.createElement(p.a,{history:e,isCategory:!0,apiUrl:"/j/kind/"},o.a.createElement(b.a,null),o.a.createElement(d.a,null),o.a.createElement(h.a,null),o.a.createElement(O.a.Consumer,null,function(t){var e=t.filterState;return o.a.createElement(f.a,{storeType:Object(x.c)(e.filterData.kind)?"original":"normal"})}))}},{path:"/search",exact:!0,render:function(t){var e=t.history;return o.a.createElement(p.a,{history:e,isSearch:!0,apiUrl:"/j/search_v2"},o.a.createElement(y.a,null),o.a.createElement(d.a,null),o.a.createElement(h.a,null),o.a.createElement(f.a,null))}},{path:"/classic",exact:!0,render:function(t){var e=t.history;return o.a.createElement(p.a,{history:e,isSpecialOrigin:!0,apiUrl:"/j/index/classic"},o.a.createElement(v.a,null),o.a.createElement(d.a,null),o.a.createElement(h.a,null),o.a.createElement(f.a,{storeType:"original"}))}},{path:"/interest",exact:!0,render:function(t){var e=t.history;return o.a.createElement(p.a,{history:e,apiUrl:"/j/interest"},o.a.createElement(m.a,null),o.a.createElement(h.a,null),o.a.createElement(f.a,null))}},{path:"/tag/:tag/",exact:!0,render:function(t){var e=t.history;return o.a.createElement(p.a,{history:e,isTag:!0,apiUrl:"/j/kind/"},o.a.createElement(g.a,null),o.a.createElement(d.a,null),o.a.createElement(h.a,null),o.a.createElement(f.a,{storeType:"original"}))}},{path:"/tag/",exact:!0,render:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,null),o.a.createElement(f.a,{storeType:"original"}))}}];function S(t){var e=t.history;return o.a.createElement(r.Fragment,null,o.a.createElement(u.a,{history:e},o.a.createElement(r.Fragment,null,E.map(function(t){return o.a.createElement(s.a,j({key:t.path},t))}))),o.a.createElement(l.default,null))}S.propTypes={history:a.a.object.isRequired},e.a=Object(c.hot)(t)(S)}).call(this,n(57)(t))},function(t,e,n){var r=n(389),o=n(390)(function(t,e,n){return e=e.toLowerCase(),t+(n?r(e):e)});t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(3),u=n(40),s=n(15);function l(t){var e=t.kind,n=t.isCurrent,r=void 0!==n&&n,i=t.worksCount,a=void 0===i?0:i,c=t.showWorksCount,s=void 0!==c&&c;return o.a.createElement("span",{className:"breadcrumb"},r?o.a.createElement("em",null,e.name):o.a.createElement(u.a,{filter:{kind:e.id},showHref:!0},e.name),s&&"（".concat(a,"）"))}function f(t){var e=t.filterState,n=e.filterData,r=e.total,i=e.syncState.isSyncSuccess,a=n.kind,u=c.e[a];return u?o.a.createElement("section",{className:"section-container"},o.a.createElement("div",{className:"category-breadcrumbs"},u.elders.map(function(t){return o.a.createElement(l,{kind:t,key:t.id})}),o.a.createElement(l,{kind:u,isCurrent:!0,worksCount:r,showWorksCount:i}))):null}l.propTypes={kind:a.a.object.isRequired,isCurrent:a.a.bool,worksCount:a.a.number,showWorksCount:a.a.bool},f.propTypes={filterState:a.a.object.isRequired},e.a=Object(s.c)(f)},function(t,e,n){t.exports=n(399)},function(t,e,n){var r=n(146),o=n(87),i=n(400),a=n(86),c=n(115),u=n(116),s=Object.prototype.hasOwnProperty,l=i(function(t,e){if(c(e)||a(e))o(e,u(e),t);else for(var n in e)s.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function c(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var c=new a(n,r||t,i),u=o?o+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],c]:t._events[u].push(c):(t._events[u]=c,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},s.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,r,i,a){var c=o?o+t:t;if(!this._events[c])return!1;var u,s,l=this._events[c],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,i),!0;case 6:return l.fn.call(l.context,e,n,r,i,a),!0}for(s=1,u=new Array(f-1);s<f;s++)u[s-1]=arguments[s];l.fn.apply(l.context,u)}else{var p,h=l.length;for(s=0;s<h;s++)switch(l[s].once&&this.removeListener(t,l[s].fn,void 0,!0),f){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,e);break;case 3:l[s].fn.call(l[s].context,e,n);break;case 4:l[s].fn.call(l[s].context,e,n,r);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];l[s].fn.apply(l[s].context,u)}}return!0},s.prototype.on=function(t,e,n){return c(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return c(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||u(this,i);else{for(var c=0,s=[],l=a.length;c<l;c++)(a[c].fn!==e||r&&!a[c].once||n&&a[c].context!==n)&&s.push(a[c]);s.length?this._events[i]=1===s.length?s[0]:s:u(this,i)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&u(this,e)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=o,s.EventEmitter=s,t.exports=s},function(t,e,n){var r=n(191);t.exports=function(t){return r(t,4)}},function(t,e,n){var r=n(402),o=n(85),i=n(138),a=o(function(t,e){return i(t)?r(t,e):[]});t.exports=a},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(123),u=n(15),s=n(19);function l(t){var e=t.history,n=t.filterState,r=t.filterOptions,i=n.filterData,a=n.total,u=n.syncState.isSyncSuccess,l=i.q||" ";return o.a.createElement("section",{className:"section-container"},o.a.createElement("div",{className:"search-header"},o.a.createElement(c.a,{key:l,initialQueryString:l,placeholder:"",onSubmit:function(t){return e.push(Object(s.e)(i,{q:t},r))}}),o.a.createElement("div",{className:"search-result-tip"},"包含",o.a.createElement("em",null,l),"的搜索结果",u&&o.a.createElement("span",{className:"total"},"（",a,"）"))))}l.propTypes={history:a.a.object.isRequired,filterState:a.a.object.isRequired,filterOptions:a.a.object.isRequired},e.a=Object(u.c)(l)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n.n(r);function i(){return o.a.createElement("div",{className:"simple-header classic-header"},o.a.createElement("section",{className:"section-container"},o.a.createElement("h1",{className:"page-title"},"高分经典"),o.a.createElement("p",{className:"desc"},"豆瓣阅读创立以来，受到读者广泛好评的「高分经典」原创作品")))}},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(15);function u(t){var e=t.filterState,n=e.total,r=e.syncState.isSyncSuccess;return o.a.createElement("div",{className:"simple-header"},o.a.createElement("section",{className:"section-container"},o.a.createElement("h1",{className:"page-title"},"收藏的书"),o.a.createElement("p",{className:"desc"},"你在豆瓣读书标记的想读、在读的书",r?n?"中 ".concat(n," 本"):"暂时没":"","有电子版本出售")))}u.propTypes={filterState:a.a.object.isRequired},e.a=Object(c.c)(u)},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(80),u=n(12),s=n(133),l=n(3),f=n(45);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=window.Ark.highlightTagsMap,m=window.Ark.ebookHotTags;function g(t){var e=t.name,n=t.search,r=void 0===n?"":n;return e?o.a.createElement(c.a,{className:"tag-link btn-contained",to:f.c+e+"/"+r},e):o.a.createElement("span",{className:"tag-link btn-contained"},o.a.createElement("i",{className:"icon-loading"}))}function w(t){var e=t.name,n=t.tags,r=t.search;return o.a.createElement("div",{className:"tag-group"},o.a.createElement("h2",null,e),o.a.createElement("ul",{className:"tag-link-group"},n.map(function(t,e){return o.a.createElement(g,{name:t,search:r,key:t||e})})))}g.propTypes={name:a.a.string,search:a.a.string},w.propTypes={name:a.a.string.isRequired,tags:a.a.array.isRequired,search:a.a.string};var O=function(t){function e(){var t,n,r,o,i,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var c=arguments.length,u=new Array(c),s=0;s<c;s++)u[s]=arguments[s];return this,n=!(r=(t=d(e)).call.apply(t,[this].concat(u)))||"object"!==p(r)&&"function"!=typeof r?b(this):r,o=b(n),i="state",a={tags:Array(5).fill(null)},i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,r.Component),n=e,(i=[{key:"componentDidMount",value:function(){var t=this;u.b.get("/j/tag/random_tags").then(function(e){t.setState({tags:e})})}},{key:"render",value:function(){var t=this.state.tags;return o.a.createElement(w,{name:"随机标签",tags:t})}}])&&h(n.prototype,i),e}();function x(){return o.a.createElement("div",{className:"filter-main"},o.a.createElement(s.a,null),o.a.createElement("section",{className:"section-container"},o.a.createElement("div",{className:"tag-list"},Object.entries(v).map(function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,2),n=e[0],r=e[1],i=l.e[n];return o.a.createElement(w,{name:i.name,tags:r,key:n})}),o.a.createElement("div",{className:"line"}),o.a.createElement(w,{name:"图书标签",tags:m,search:"?rootKind=book"}),o.a.createElement("div",{className:"line"}),o.a.createElement(O,null))))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(81),o=n(139),i=n(83),a=n(162),c=r?r.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(281)("toUpperCase");t.exports=r},function(t,e,n){var r=n(282),o=n(160),i=n(284),a=n(102);t.exports=function(t){return function(e){e=a(e);var n=o(e)?i(e):void 0,c=n?n[0]:e.charAt(0),u=n?r(n,1).join(""):e.slice(1);return c[t]()+u}}},function(t,e,n){var r=n(283);t.exports=function(t,e,n){var o=t.length;return n=void 0===n?o:n,!e&&n>=o?t:r(t,e,n)}},function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},function(t,e,n){var r=n(285),o=n(160),i=n(286);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+r+")?",u="[\\ufe0e\\ufe0f]?"+c+"(?:\\u200d(?:"+[o,i,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*",s="(?:"+[o+n+"?",n,i,a,"[\\ud800-\\udfff]"].join("|")+")",l=RegExp(r+"(?="+r+")|"+s+u,"g");t.exports=function(t){return t.match(l)||[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(8),a=n(20),c=n(39),u=n.n(c),s=n(21),l=n(207),f=u()({basename:"/"});Object(s.c)(f),Object(i.render)(o.a.createElement(a.AppContainer,null,o.a.createElement(l.a,{history:f})),document.getElementById("react-root"))},function(t,e,n){var r=n(101),o=n(355),i=n(356),a=n(357),c=n(358),u=n(359);function s(t){var e=this.__data__=new r(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=c,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(101);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(101),o=n(136),i=n(167);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(87),o=n(116);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(115),o=n(363),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(193)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(87),o=n(143);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){(function(t){var r=n(33),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,c=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(144)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(87),o=n(147);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(87),o=n(196);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(198),o=n(147),i=n(116);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(198),o=n(196),i=n(143);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(56)(n(33),"DataView");t.exports=r},function(t,e,n){var r=n(56)(n(33),"Promise");t.exports=r},function(t,e,n){var r=n(56)(n(33),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(149),o=n(377),i=n(378),a=n(379),c=n(380);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return i(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(33).Uint8Array;t.exports=r},function(t,e,n){var r=n(149);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(81),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(149);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(382),o=n(197),i=n(115);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(42),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(384),o=n(114),i=n(145),a=i&&i.isMap,c=a?o(a):r;t.exports=c},function(t,e,n){var r=n(148),o=n(55);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(386),o=n(114),i=n(145),a=i&&i.isSet,c=a?o(a):r;t.exports=c},function(t,e,n){var r=n(148),o=n(55);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e,n){var r=n(194),o=n(139),i=n(388),a=n(187),c=n(138),u=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=r(t,function(t){if(c(t))return e=u(t.length,e),!0}),a(e,function(e){return o(t,i(e))})}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(102),o=n(280);t.exports=function(t){return o(r(t).toLowerCase())}},function(t,e,n){var r=n(391),o=n(392),i=n(395),a=RegExp("['’]","g");t.exports=function(t){return function(e){return r(i(o(e).replace(a,"")),t,"")}}},function(t,e){t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e,n){var r=n(393),o=n(102),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=o(t))&&t.replace(i,r).replace(a,"")}},function(t,e,n){var r=n(394)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});t.exports=r},function(t,e){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},function(t,e,n){var r=n(396),o=n(397),i=n(102),a=n(398);t.exports=function(t,e,n){return t=i(t),void 0===(e=n?void 0:e)?o(t)?a(t):r(t):t.match(e)||[]}},function(t,e){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(n)||[]}},function(t,e){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return n.test(t)}},function(t,e){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",o="\\d+",i="[a-z\\xdf-\\xf6\\xf8-\\xff]",a="[^\\ud800-\\udfff"+n+o+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",s="[A-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:"+i+"|"+a+")",f="(?:"+s+"|"+a+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",h="[\\ufe0e\\ufe0f]?"+p+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,u].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*",d="(?:"+["[\\u2700-\\u27bf]",c,u].join("|")+")"+h,b=RegExp([s+"?"+i+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[r,s,"$"].join("|")+")",f+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[r,s+l,"$"].join("|")+")",s+"?"+l+"+(?:['’](?:d|ll|m|re|s|t|ve))?",s+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,d].join("|"),"g");t.exports=function(t){return t.match(b)||[]}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var o=t,i=e,a=n;r=!1,null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,i);if(void 0!==c){if("value"in c)return c.value;var u=c.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(o);if(null===s)return;t=s,e=i,n=a,r=!0,c=s=void 0}};function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c,u,s,l,f,p=n(0),h=i(p),d=i(n(1)),b=n(406),y=i(n(9)),v=i(n(189)),m=0,g="transform",w=!0,O=0,x=-1,j=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),this.handleResize=this.handleResize.bind(this),this.handleScroll=this.handleScroll.bind(this),this.handleScrollStart=this.handleScrollStart.bind(this),this.delta=0,this.stickyTop=0,this.stickyBottom=0,this.frozen=!1,this.skipNextScrollEvent=!1,this.scrollTop=-1,this.bottomBoundaryTarget,this.topTarget,this.subscribers,this.state={top:0,bottom:0,width:0,height:0,x:0,y:0,topBoundary:0,bottomBoundary:1/0,status:m,pos:0,activated:!1}}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,p.Component),r(e,[{key:"getTargetHeight",value:function(t){return t&&t.offsetHeight||0}},{key:"getTopPosition",value:function(t){return"string"==typeof(t=t||this.props.top||this.props.topTarget||0)&&(this.topTarget||(this.topTarget=c.querySelector(t)),t=this.getTargetHeight(this.topTarget)),t}},{key:"getTargetBottom",value:function(t){if(!t)return-1;var e=t.getBoundingClientRect();return this.scrollTop+e.bottom}},{key:"getBottomBoundary",value:function(t){var e=t||this.props.bottomBoundary;return"object"==typeof e&&(e=e.value||e.target||0),"string"==typeof e&&(this.bottomBoundaryTarget||(this.bottomBoundaryTarget=c.querySelector(e)),e=this.getTargetBottom(this.bottomBoundaryTarget)),e&&e>0?e:1/0}},{key:"reset",value:function(){this.setState({status:m,pos:0})}},{key:"release",value:function(t){this.setState({status:1,pos:t-this.state.y})}},{key:"fix",value:function(t){this.setState({status:2,pos:t})}},{key:"updateInitialDimension",value:function(t){t=t||{};var e=this.outerElement.getBoundingClientRect(),n=this.innerElement.getBoundingClientRect(),r=e.width||e.right-e.left,o=n.height||n.bottom-n.top,i=e.top+this.scrollTop;this.setState({top:this.getTopPosition(t.top),bottom:Math.min(this.state.top+o,x),width:r,height:o,x:e.left,y:i,bottomBoundary:this.getBottomBoundary(t.bottomBoundary),topBoundary:i})}},{key:"handleResize",value:function(t,e){this.props.shouldFreeze()||(x=e.resize.height,this.updateInitialDimension(),this.update())}},{key:"handleScrollStart",value:function(t,e){this.frozen=this.props.shouldFreeze(),this.frozen||(this.scrollTop===e.scroll.top?this.skipNextScrollEvent=!0:(this.scrollTop=e.scroll.top,this.updateInitialDimension()))}},{key:"handleScroll",value:function(t,e){this.skipNextScrollEvent?this.skipNextScrollEvent=!1:(O=e.scroll.delta,this.scrollTop=e.scroll.top,this.update())}},{key:"update",value:function(){if(!this.props.enabled||this.state.bottomBoundary-this.state.topBoundary<=this.state.height||0===this.state.width&&0===this.state.height)this.state.status!==m&&this.reset();else{var t=O,e=this.scrollTop+this.state.top,n=this.scrollTop+this.state.bottom;if(e<=this.state.topBoundary)this.reset();else if(n>=this.state.bottomBoundary)this.stickyBottom=this.state.bottomBoundary,this.stickyTop=this.stickyBottom-this.state.height,this.release(this.stickyTop);else if(this.state.height>x-this.state.top)switch(this.state.status){case m:this.release(this.state.y),this.stickyTop=this.state.y,this.stickyBottom=this.stickyTop+this.state.height;case 1:this.stickyBottom=this.stickyTop+this.state.height,t>0&&n>this.stickyBottom?this.fix(this.state.bottom-this.state.height):t<0&&e<this.stickyTop&&this.fix(this.state.top);break;case 2:var r=!0,o=this.state.pos,i=this.state.height;if(t>0&&o===this.state.top)this.stickyTop=e-t,this.stickyBottom=this.stickyTop+i;else if(t<0&&o===this.state.bottom-i)this.stickyBottom=n-t,this.stickyTop=this.stickyBottom-i;else if(o!==this.state.bottom-i&&o!==this.state.top){var a=o+i-this.state.bottom;this.stickyBottom=n-t+a,this.stickyTop=this.stickyBottom-i}else r=!1;r&&this.release(this.stickyTop)}else this.fix(this.state.top);this.delta=t}}},{key:"componentWillReceiveProps",value:function(t){this.updateInitialDimension(t),this.update()}},{key:"componentDidUpdate",value:function(t,e){var n=this;e.status!==this.state.status&&this.props.onStateChange&&this.props.onStateChange({status:this.state.status}),t.enabled!==this.props.enabled&&(this.props.enabled?this.setState({activated:!0},function(){n.updateInitialDimension(),n.update()}):this.setState({activated:!1},function(){n.reset()}))}},{key:"componentWillUnmount",value:function(){for(var t=(this.subscribers||[]).length-1;t>=0;t--)this.subscribers[t].unsubscribe()}},{key:"componentDidMount",value:function(){f||(f=window,c=document,s=c.documentElement,u=c.body,x=f.innerHeight||s.clientHeight,(l=window.Modernizr)&&l.prefixed&&(w=l.csstransforms3d,g=l.prefixed("transform"))),this.scrollTop=u.scrollTop+s.scrollTop,this.props.enabled&&(this.setState({activated:!0}),this.updateInitialDimension(),this.update()),this.subscribers=[(0,b.subscribe)("scrollStart",this.handleScrollStart.bind(this),{useRAF:!0}),(0,b.subscribe)("scroll",this.handleScroll.bind(this),{useRAF:!0,enableScrollInfo:!0}),(0,b.subscribe)("resize",this.handleResize.bind(this),{enableResizeInfo:!0})]}},{key:"translate",value:function(t,e){w&&this.props.enableTransforms&&this.state.activated?t[g]="translate3d(0,"+Math.round(e)+"px,0)":t.top=e+"px"}},{key:"shouldComponentUpdate",value:function(t,e){return!(this.props.shouldFreeze()||(0,v.default)(this.props,t)&&(0,v.default)(this.state,e))}},{key:"render",value:function(){var t,e=this,n={position:2===this.state.status?"fixed":"relative",top:2===this.state.status?"0px":"",zIndex:this.props.innerZ},r={};this.translate(n,this.state.pos),this.state.status!==m&&(n.width=this.state.width+"px",r.height=this.state.height+"px");var o=(0,y.default)("sticky-outer-wrapper",this.props.className,(a(t={},this.props.activeClass,2===this.state.status),a(t,this.props.releasedClass,1===this.state.status),t)),i=this.props.children;return h.default.createElement("div",{ref:function(t){e.outerElement=t},className:o,style:r},h.default.createElement("div",{ref:function(t){e.innerElement=t},className:"sticky-inner-wrapper",style:n},"function"==typeof i?i({status:this.state.status}):i))}}]),e}();j.displayName="Sticky",j.defaultProps={shouldFreeze:function(){return!1},enabled:!0,top:0,bottomBoundary:0,enableTransforms:!0,activeClass:"active",releasedClass:"released",onStateChange:null},j.propTypes={enabled:d.default.bool,top:d.default.oneOfType([d.default.string,d.default.number]),bottomBoundary:d.default.oneOfType([d.default.object,d.default.string,d.default.number]),enableTransforms:d.default.bool,activeClass:d.default.string,releasedClass:d.default.string,onStateChange:d.default.func,shouldFreeze:d.default.func,innerZ:d.default.oneOfType([d.default.string,d.default.number])},j.STATUS_ORIGINAL=m,j.STATUS_RELEASED=1,j.STATUS_FIXED=2,t.exports=j},function(t,e,n){var r=n(85),o=n(184);t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,c&&o(n[0],n[1],c)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){(function(e){(function(){var n,r,o,i,a,c;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,i=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),c=1e9*e.uptime(),a=i-c):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(176))},function(t,e,n){var r=n(169),o=n(170),i=n(171),a=n(139),c=n(114),u=n(172);t.exports=function(t,e,n,s){var l=-1,f=o,p=!0,h=t.length,d=[],b=e.length;if(!h)return d;n&&(e=a(e,c(n))),s?(f=i,p=!1):e.length>=200&&(f=u,p=!1,e=new r(e));t:for(;++l<h;){var y=t[l],v=null==n?y:n(y);if(y=s||0!==y?y:0,p&&v==v){for(var m=b;m--;)if(e[m]===v)continue t;d.push(y)}else f(e,v,s)||d.push(y)}return d}},,,,function(t,e,n){"use strict";n.r(e);var r=n(211),o=n.n(r),i=n(212),a=n.n(i),c=!1;if("undefined"!=typeof window)try{var u=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("test",null,u)}catch(t){}var s=c,l={connections:{},EE:new a.a,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:s},f=l.supportPassiveEvent,p={capture:!1,passive:!1},h=function(t,e,n,r){var i="addEventListener",a="removeEventListener",c=e,u=!!f&&o()({},p,r);return!t.addEventListener&&t.attachEvent&&(i="attachEvent",a="detachEvent",c="on"+e),t[i](c,n,u),{remove:function(){t[a](e,n)}}},d=!1;if("undefined"!=typeof navigator){var b=navigator.userAgent.match(/MSIE (\d+\.\d+)/);b&&(d=parseFloat(b[1],10)<9)}var y=d,v=n(213),m=n.n(v),g=n(44),w=n.n(g),O=n(141),x=n.n(O),j=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E={width:0,height:0},S={delta:0,top:0},_={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0},T=function(t){var e={x:0,y:0},n=document.body,r=document.documentElement;return t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX+n.scrollLeft+r.scrollLeft,e.y=t.clientY+n.scrollTop+r.scrollTop),e},k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(e.mainType||"").toLowerCase(),r=(e.subType||"").toLowerCase();this.mainType=n,this.subType=r,this.type=n+r.charAt(0).toUpperCase()+r.slice(1)||"",this.scroll=S,this.resize=E,this.touch=_}return j(t,[{key:"update",value:function(t){var e=this.mainType,n=this.subType,r=document.documentElement;if(l.enableScrollInfo&&("scroll"===e||"touchmove"===e)){var o=r.scrollTop+document.body.scrollTop;o!==this.scroll.top&&(this.scroll.delta=o-this.scroll.top,this.scroll.top=o)}if(l.enableResizeInfo&&"resize"===e&&(this.resize.width=window.innerWidth||r.clientWidth,this.resize.height=window.innerHeight||r.clientHeight),l.enableTouchInfo&&t.touches&&("touchstart"===e||"touchmove"===e||"touchend"===e)){var i=void 0,a=void 0,c=void 0;"touchstart"===e||"start"===n?(i=T(t.touches[0]),this.touch.axisIntention="",this.touch.startX=i.x,this.touch.startY=i.y,this.touch.deltaX=0,this.touch.deltaY=0):"touchmove"===e&&(i=T(t.touches[0]),this.touch.deltaX=i.x-this.touch.startX,this.touch.deltaY=i.y-this.touch.startY,""===this.touch.axisIntention&&(a=Math.abs(this.touch.deltaX),c=Math.abs(this.touch.deltaY),a>5&&a>=c?this.touch.axisIntention="x":c>5&&c>a&&(this.touch.axisIntention="y")))}}}]),t}(),P=n(154),C=n.n(P),A=Date.now||function(){return(new Date).getTime()},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=void 0,r=void 0,o=0,i=0,a=function a(){var c=A();e-(c-o)<=0?(o=c,i=0,t.apply(n,r)):i=C()(a)};return function(){n=this,r=arguments,i||(i=C()(a))}},N=100,R=l.connections,D=l.EE,F=l.listeners,q=l.removers,z=void 0,L=void 0,U=void 0,B=0;function K(t){return t.id||"target-id-"+B++}function M(t,e,n,r){return D.on(t,e||x.a,n),R[r=r||t]=(R[r]||0)+1,{_type:t,_cb:e,_ctx:n,unsubscribe:function(){if(this._type){D.removeListener(t,e,n),R[r]--,0===R[r]&&(F[r].remove(),F[r]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var o=q.length-1;o>=0;o--)if(q[o]===this){q.splice(o,1);break}}}}}function H(t,e,n){return function(r,o,i,a){var c=i.context,u=i.target,s=u&&K(u),l=s?":"+s:"",f=e+"Start:"+r+l,p=e+"End:"+r+l,d=e+":"+r+l,b=M(n+":"+r+l,o,c,d);if(q.push(b),F[d])return b;var v={start:new k({mainType:e,subType:"start"}),main:new k({mainType:e}),end:new k({mainType:e,subType:"end"})};"raf"===r?(r=16,x=I(x)):r>0&&(x=w()(x,r));var g=void 0;function O(t){v.end.update(t),D.emit(p,t,v.end),g=null}function x(t){g||(v.start.update(t),D.emit(f,t,v.start)),clearTimeout(g),v.main.update(t),D.emit(d,t,v.main),g=y?setTimeout(function(){O(m()(t))},r+N):setTimeout(O.bind(null,t),r+N)}return F[d]=h(u||t,e,x,a),b}}function Y(t,e){return function(n,r,o,i){var a=o.context,c=o.target,u=c&&K(c),s=e+":0"+(u?":"+u:""),l=M(s,r,a);if(q.push(l),F[s])return l;var f=new k({mainType:e});return F[s]=h(c||t,e,function(t){f.update(t),D.emit(s,t,f)},i),l}}"undefined"!=typeof window&&(U=(z=(L=window).document||document).body);var W={scrollStart:H(L,"scroll","scrollStart"),scrollEnd:H(L,"scroll","scrollEnd"),scroll:H(L,"scroll","scroll"),resizeStart:H(L,"resize","resizeStart"),resizeEnd:H(L,"resize","resizeEnd"),resize:H(L,"resize","resize"),visibilitychange:Y(z,"visibilitychange"),touchmoveStart:H(U,"touchmove","touchmoveStart"),touchmoveEnd:H(U,"touchmove","touchmoveEnd"),touchmove:H(U,"touchmove","touchmove"),touchstart:Y(U,"touchstart"),touchend:Y(U,"touchend")},V=l.removers;n.d(e,"listen",function(){return X}),n.d(e,"subscribe",function(){return J}),n.d(e,"unsubscribe",function(){return Q});var Z="undefined"!=typeof window;function G(){}var X=Z?h:G,J=Z?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useRAF||!1,o=parseInt(n.throttleRate,10),i=n.eventOptions;return isNaN(o)&&(o=50),r&&(o="raf"),y&&(o=0),l.enableScrollInfo=l.enableScrollInfo||n.enableScrollInfo||!1,l.enableResizeInfo=l.enableResizeInfo||n.enableResizeInfo||!1,l.enableTouchInfo=l.enableTouchInfo||n.enableTouchInfo||!1,W[t](o,e,n,i)}:G,Q=Z?function(t,e){for(var n=void 0,r=V.length-1;r>=0;r-=1)(n=V[r])._cb===e&&n._type.indexOf(t)>=0&&(n.unsubscribe(),V.splice(r,1))}:G},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(2),o=n(7);function i(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate,this.thisArg))},t}(),c=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(2),o=n(51),i=n(49),a=n(50),c=n(111),u=n(112);function s(t,e){return"function"==typeof e?function(n){return n.pipe(s(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(c.a)(function(t,o){return e(n,t,r,o)}))}))}:function(e){return e.lift(new l(t))}}var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new i.a(this,void 0,void 0);this.destination.add(o),this.innerSubscription=Object(a.a)(this,t,e,n,o)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(2),o=n(51),i=n(49),a=n(50);function c(t){return function(e){var n=new u(t),r=e.lift(n);return n.caught=r}}var u=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.selector,this.caught))},t}(),s=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new i.a(this,void 0,void 0);this.add(r),Object(a.a)(this,n,void 0,void 0,r)}},e}(o.a)},,,function(t,e,n){"use strict";var r=n(175),o=n(121);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.a)(1)(r.a.apply(void 0,t))}n.d(e,"a",function(){return i})}]);
