(window.webpackJsonp=window.webpackJsonp||[]).push([[0,2],{10:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(73);function l(e){var t=e.url,n=e.title,r=e.highlightWords,o=e.Tag,i=void 0===o?"h4":o;return a.a.createElement(i,{className:"title"},a.a.createElement("a",{href:t,target:"_blank",title:n},a.a.createElement(c.a,{searchWords:r,textToHighlight:n})))}l.propTypes={url:i.a.string.isRequired,title:i.a.string.isRequired,highlightWords:i.a.any,Tag:i.a.string},l.query=function(){return"\n    url\n    title\n  "}},11:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n.n(r);function o(){return a.a.createElement("span",{className:"separator"})}},12:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return m});var r=n(173),a=n.n(r),o=n(34),i=n.n(o);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(236);var u={JSON:"application/json",FORM:"application/x-www-form-urlencoded; charset=UTF-8"};function s(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.isServerError=!0,t.res=e,t.msg="遇到了奇怪的错误",t}function f(e){if(e.r){var t=new Error("API Error");throw t.msg=e.msg||"遇到了奇怪的错误",t.res=e,t}return e}function p(e){return e.json()}function m(e,t){(t=c({headers:{}},t,{credentials:"same-origin"})).headers["X-Requested-With"]="XMLHttpRequest",t.method&&"GET"!==t.method.toUpperCase()&&(t.headers=c({"X-CSRF-Token":a()("ck")},t.headers));var n=fetch(e,t).then(s);return t.headers.Accept===u.JSON?n.then(p).then(f):n}function d(e){return e instanceof FormData?e:Object.entries(e).reduce(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,2),r=n[0],a=n[1];return e.append(r,a),e},new FormData)}function h(e){return function(t,n){return m(t,{method:e,headers:{Accept:u.JSON},body:n&&d(n)})}}m.post=function(e,t){return m(e,{method:"POST",headers:{Accept:u.JSON,"Content-Type":u.JSON},body:JSON.stringify(t||{})})},m.put=function(e,t){return m(e,{method:"PUT",headers:{Accept:u.JSON,"Content-Type":u.JSON},body:JSON.stringify(t||{})})},m.get=function(e,t){return m(e=i.a.addParam(e,t),{method:"GET",headers:{Accept:u.JSON}})},m.del=function(e,t){return m(e,{method:"DELETE",headers:{Accept:u.JSON,"Content-Type":u.JSON},body:JSON.stringify(t||{})})},m.postForm=h("POST"),m.putForm=h("PUT"),m.delForm=h("DELETE")},120:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(9),l=n.n(c),u=n(117),s=n.n(u);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(287);var p=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6 11"},t),a.a.createElement("path",{fill:"#A6A6A6",d:"M4.894 10.986l1.1-.92-4.096-4.573L5.993.92 4.893 0 0 5.473l4.894 5.513z"}))};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6 11"},t),a.a.createElement("path",{fill:"#a6a6a6",d:"M1.1 0L0 .92 4.1 5.5 0 10.08l1.1.92L6 5.52z"}))};function h(e,t){return function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(Array(t-e+1).keys()).map(function(t){return t+e})}function y(e,t,n){var r,a=function(e){return e>=1&&e<=t};return r=[h(1,n).filter(a),h(e-n,e+n).filter(a),h(t+1-n,t).filter(a)],s.a.apply(null,r).reduce(function(e,t,n,r){var a=r[n-1];return t-a>2?e.concat("...",t):t-a==2?e.concat(t-1,t):e.concat(t)},[])}function v(e){var t=e.prevClassName,n=void 0===t?"page-prev":t,r=e.nextClassName,o=void 0===r?"page-next":r,i=e.numberPerPage,c=e.page,u=e.totalNumber,s=e.onPageTurning,f=e.wingLength,m=void 0===f?2:f,h=e.getPageHref,v=void 0===h?null:h,g=Math.ceil(u/i),b=c>1?c-1:null,E=c<g?c+1:null,w=l()(n,{disabled:1===c}),O=l()(o,{disabled:c===g}),k=y(c,g,m),x=function(e){return function(t){t.preventDefault(),e&&s(e)}};return a.a.createElement("div",{className:"paginator-full"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{className:w,onClick:x(b),href:v&&b?v(b):void 0},a.a.createElement(p,{width:7,height:14,className:"icon-direction"}))),k.map(function(e,t){var n="number"==typeof e,r=e===c,o=l()("page",{active:r});return a.a.createElement("li",{key:"".concat(t,"-page-").concat(e)},n?a.a.createElement("a",{className:o,onClick:x(r?null:e),href:v&&!r?v(e):void 0},e):"...")}),a.a.createElement("li",null,a.a.createElement("a",{className:O,onClick:x(E),href:v&&E?v(E):void 0},a.a.createElement(d,{width:7,height:14,className:"icon-direction"})))))}n.d(t,"a",function(){return v}),v.propTypes={prevClassName:i.a.number,nextClassName:i.a.number,numberPerPage:i.a.number.isRequired,page:i.a.number.isRequired,totalNumber:i.a.number.isRequired,onPageTurning:i.a.func.isRequired,wingLength:i.a.number,getPageHref:i.a.func}},123:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(12);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=f(t).call(this,e),n=!r||"object"!==l(r)&&"function"!=typeof r?p(this):r,d(p(n),"handleSubmit",function(e){var t=n.props.onSubmit;t&&(e.preventDefault(),t(n.state.trimmedValue))}),d(p(n),"handleInputChange",function(e){var t=e.target.value,r=t.trim();n.props.onQueryStringChange&&n.props.onQueryStringChange(t),n.setState({inputValue:t,trimmedValue:r})}),d(p(n),"handleKeyDown",function(e){var t=n.state,r=t.currentSuggestIndex,a=t.suggests;if(a.length){var o=r;switch(e.keyCode){case 38:null===o&&(o=0),o=(o-1+a.length)%a.length;break;case 9:case 40:null===o&&(o=-1),o=(o+1)%a.length;break;case 13:if(null===o)return;n.handleSelectSuggest(a[o]);break;default:return}n.setState({currentSuggestIndex:o}),e.preventDefault()}}),d(p(n),"handleSelectSuggest",function(e){n.setState({inputValue:e,trimmedValue:e},function(){n.formEl.submit()})});var a=e.initialQueryString;return n.state={inputValue:a,trimmedValue:a.trim(),currentSuggestIndex:null,suggestsMap:{},suggests:[],focusingInput:!1},n}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.Component),n=t,(o=[{key:"componentDidUpdate",value:function(e,t){var n=this.state.trimmedValue;t.trimmedValue!==n&&this.updateSuggests(n)}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,r=t.currentSuggestIndex,o=t.suggests,i=t.focusingInput,c=this.props,l=c.placeholder,u=c.autoFocus;return a.a.createElement("section",{className:"search-section"},a.a.createElement("form",{action:"/search",className:"search-form",ref:function(t){return e.formEl=t},onSubmit:this.handleSubmit},a.a.createElement("input",{type:"text",name:"q",value:n,maxLength:"60",autoComplete:"off",placeholder:l,autoFocus:u,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onFocus:function(){return e.setState({focusingInput:!0,currentSuggestIndex:null})},onBlur:function(){return e.setState({focusingInput:!1})}}),a.a.createElement("button",{className:"btn-search",type:"submit"},"搜索")),i&&!!o.length&&a.a.createElement("ul",{className:"search-suggest-list"},o.map(function(t,n){return a.a.createElement("li",{className:r===n?"active":"",key:n,onMouseDown:function(){return e.handleSelectSuggest(t)},onMouseEnter:function(){return e.setState({currentSuggestIndex:n})}},t)})))}},{key:"updateSuggests",value:function(e){var t=this;if(e){var n=this.state.suggestsMap[e];if(!n)return c.b.get("/j/suggest_v2?q=".concat(encodeURIComponent(e))).then(function(r){r.r||t.isUnmounted||(n=r.suggests.slice(0,5),t.setState({suggestsMap:u({},t.state.suggestsMap,d({},e,n))}),t.state.trimmedValue===e&&t.setState({suggests:n}))},function(){t.isUnmounted||t.setState({suggests:[]})});this.setState({suggests:n})}else this.setState({suggests:[]})}}])&&s(n.prototype,o),t}();d(h,"propTypes",{initialQueryString:i.a.string,onQueryStringChange:i.a.func,onSubmit:i.a.func,placeholder:i.a.string,autoFocus:i.a.bool}),d(h,"defaultProps",{initialQueryString:"",placeholder:"原创作品 / 电子书 / 作者 / 出版社"})},124:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},t),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{width:"12",height:"12",fill:"#FA595F",rx:"2"}),a.a.createElement("path",{fill:"#FFF",d:"M3.5 2.75h.99l3.285 4.779h.036V2.75h.981v6.426h-.954L4.517 4.343h-.036v4.833H3.5z"})))}},125:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},t),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{width:"11.5",height:"11.5",x:".25",y:".25",fill:"#FFEA9F",stroke:"#F9C300",strokeWidth:".5",rx:"2"}),a.a.createElement("path",{fill:"#FA595F",d:"M3.5 5.5h5v1h-5z"})))}},126:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},t),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("rect",{width:"11.5",height:"11.5",x:".25",y:".25",fill:"#E4ECEE",stroke:"#ABC6CF",strokeWidth:".5",rx:"2"}),a.a.createElement("path",{fill:"#ABC6CF",d:"M7 7V2H5v5H3l3 3 3-3H7z"})))}},127:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},t),a.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)"},a.a.createElement("rect",{width:"9.5",height:"9.5",x:".25",y:".25",fill:"#FFF5F5",stroke:"#FA595F",strokeWidth:".5",rx:"1.6"}),a.a.createElement("path",{fill:"#FA595F",d:"M5.833 4.167v4.166H4.167V4.167H2.5l2.5-2.5 2.5 2.5H5.833z"})))}},135:function(e,t,n){var r,a;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r=[n(34)],void 0===(a=function(e){var t={douban:{urlTmpl:function(e){var t=e.url,r=e.title,a=e.desc,o=e.comment,i=e.image;return"http://www.douban.com/share/service?bm=1&sel=222\n        &image=".concat(encodeURIComponent(i),"\n        &href=").concat(encodeURIComponent(n(t,"douban")),"\n        &name=").concat(encodeURIComponent(r),"\n        &text=").concat(encodeURIComponent(a),"\n        &comment=").concat(encodeURIComponent(o))}},qqim:{urlTmpl:function(e){var t=e.url,r=e.title,a=e.image;return"http://connect.qq.com/widget/shareqq/index.html\n        ?site=".concat(encodeURIComponent("豆瓣"),"\n        &url=").concat(encodeURIComponent(n(t,"qqim")),"\n        &desc=").concat(encodeURIComponent(r),"\n        &pics=").concat(encodeURIComponent(a))}},qzone:{urlTmpl:function(e){var t=e.url,r=e.title,a=e.desc,o=e.image;return"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey\n        ?url=".concat(encodeURIComponent(n(t,"qzone")),"\n        &title=").concat(encodeURIComponent(r),"\n        &summary=").concat(encodeURIComponent(a),"\n        &pics=").concat(encodeURIComponent(o))}},weibo:{urlTmpl:function(e){var t=e.url,r=e.title,a=e.comment,o=e.image;return"http://v.t.sina.com.cn/share/share.php\n        ?appkey=".concat(encodeURIComponent(3015934887),"\n        &url=").concat(encodeURIComponent(n(t,"weibo")),"\n        &title=").concat(encodeURIComponent(a||r),"\n        &pic=").concat(encodeURIComponent(o),"\n        &sourceUrl=&content=utf-8")}}};function n(t,n){return n?e.addParam(t,{icn:n}):t}function r(e){var t=document.querySelectorAll('meta[property="N"],meta[name="N"]'.replace(/N/g,e)),n=t[t.length-1];return n&&n.getAttribute("content")}function a(e){for(var t=0,n=e.length;t<n;t++){var a=r(e[t]);if(a)return a}}return{getSNSData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},t,n);return Object.keys(r).forEach(function(t){r[t].url=r[t].urlTmpl(e).replace(/[\r\n\s]/g,"")}),r},getShareOptionsDefaults:function(){return{title:a(["og:title","twitter:title"])||document.title,desc:a(["og:description","twitter:description","description"]),url:a(["og:url","twitter:url"])||location.href,image:a(["og:image","twitter:image","weixin:image"]),comment:r("share:comment")||""}},snsDefaults:t,getUrlWithIcn:n}}.apply(t,r))||(e.exports=a)},14:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return d});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(73),l=n(11);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=e.url,n=e.name,r=e.highlightWords,o=t||"/search?q=".concat(n);return a.a.createElement("a",{href:o,target:"_blank",className:"author-link"},a.a.createElement(c.a,{searchWords:r,textToHighlight:n}))}function m(e){var t=e.author,n=e.origAuthor;return a.a.createElement("div",{className:"author"},t&&t[0]&&a.a.createElement(p,t[0]),n&&n[0]&&a.a.createElement(p,n[0]))}function d(e){var t=e.author,n=e.origAuthor,o=e.translator,i=e.highlightWords;return a.a.createElement("div",{className:"author"},t&&t.map(function(e,t){return a.a.createElement(r.Fragment,{key:e.name},t>0&&a.a.createElement(l.a,null),a.a.createElement(p,s({},e,{highlightWords:i})))}),n&&n.length>0&&n.map(function(e){return a.a.createElement(p,u({},s({},e,{highlightWords:i}),{key:e.name}))}).concat(" 著").concat(a.a.createElement(l.a,{key:"orig-author-separator"})),o&&o.length>0&&o.map(function(e){return a.a.createElement(p,u({},s({},e,{highlightWords:i}),{key:e.name}))}).concat(" 译"))}p.propTypes={url:i.a.string.isRequired,name:i.a.string.isRequired,highlightWords:i.a.array},m.propTypes={author:i.a.array,origAuthor:i.a.array},m.query=function(){return"\n    author {\n      name\n      url\n    }\n    origAuthor {\n      name\n      url\n    }\n  "},d.propTypes={author:i.a.array,origAuthor:i.a.array,translator:i.a.array,highlightWords:i.a.array},d.query=function(){return"\n    author {\n      name\n      url\n    }\n    origAuthor {\n      name\n      url\n    }\n    translator {\n      name\n      url\n    }\n  "}},142:function(e,t,n){n.p=Ark.CDN_PUBLIC_PATH+"js/dist/store/"},155:function(e,t,n){"use strict";function r(e){return String(e).replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}n.d(t,"a",function(){return r})},16:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(e){var t=e.title,n=e.cover,r=e.url,o=e.isBundle?"bundle-cover":"";return a.a.createElement("div",{className:"cover shadow-cover ".concat(o)},a.a.createElement("a",{className:"pic",href:r,target:"_blank"},a.a.createElement("img",{src:n,alt:t})))}c.propTypes={title:i.a.string.isRequired,cover:i.a.string.isRequired,url:i.a.string.isRequired,isBundle:i.a.bool.isRequired},c.query=function(){return"\n    title\n    cover\n    url\n    isBundle\n  "}},17:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(8),i=n(1),c=n.n(i),l=n(44),u=n.n(l),s=n(9),f=n.n(s),p=n(3),m=n(26),d=n(123),h=n(46),y=n(88),v=n(21),g=n(35),b=n(12);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10"},t),a.a.createElement("path",{d:"M8.8 0L5 3.8 1.2 0 0 1.2 3.8 5 0 8.8 1.2 10 5 6.2 8.8 10 10 8.8 6.2 5 10 1.2 8.8 0z"}))};function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(301);var j=document.body,P="globalEntranceClosed";function C(e){var t=null;try{t=JSON.parse(localStorage.getItem(P))}catch(e){}return!!t&&t.eventId===e}var T=function(e){function t(){var e,n,r,a,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return this,n=!(r=(e=x(t)).call.apply(e,[this].concat(l)))||"object"!==O(r)&&"function"!=typeof r?S(this):r,i={isLoading:!0,hasError:!1,event:null,isClosed:!0},(o="state")in(a=S(n))?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r.Component),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;b.b.get("/j/event/global_entrance?url=".concat(encodeURIComponent(location.pathname))).then(function(t){var n=t.event;e.setState({isLoading:!1}),e.updateEvent(n)},function(){e.setState({isLoading:!1,hasError:!0})})}},{key:"componentDidUpdate",value:function(e,t){var n,r=this.state,a=r.isClosed,o=r.event;t.event&&!t.isClosed&&a&&(n={eventId:o.id,closingTime:Date.now()},localStorage.setItem(P,JSON.stringify(n)))}},{key:"updateEvent",value:function(e){this.setState({event:e,isClosed:!!e&&C(e.id)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.event;if(t.isClosed||!n)return null;var r=n.url,i=n.image,c=i.width,l=i.height;return Object(o.createPortal)(a.a.createElement("div",{className:"global-entrance"},a.a.createElement(g.a,{to:r,dcm:"global-entrance",dcn:n.id,target:"_blank",className:"entrance",style:{width:c,height:l,backgroundImage:"url('".concat(i.url,"')")}}),a.a.createElement("button",{className:"btn-close fill-current-color",onClick:function(){return e.setState({isClosed:!0})}},a.a.createElement(w,null))),j)}}])&&k(n.prototype,i),t}();function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"7",viewBox:"0 0 10 7"},t),a.a.createElement("path",{fill:"#a6a6a6",d:"M0 0h10v.7H0zm0 2.1h10v.7H0zm0 2.1h10v.7H0zm0 2.1h10V7H0z"}))};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",width:"14",viewBox:"0 0 14 14"},t),a.a.createElement("path",{fill:"#fff",d:"M14 12.83l-2.19-2.19a6.61 6.61 0 1 0-1.17 1.17L12.83 14zM2.5 10.7a5.8 5.8 0 0 1 8.2-8.2 5.8 5.8 0 0 1-8.2 8.2z"}))};function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var q=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:"24",viewBox:"0 0 24 24"},t),a.a.createElement("path",{d:"M19.5 18.2c-.8 0-1.4.6-1.4 1.4 0 .8.6 1.4 1.4 1.4.8 0 1.4-.6 1.4-1.4 0-.8-.6-1.4-1.4-1.4zm-12.7 0c-.8 0-1.4.6-1.4 1.4 0 .8.6 1.4 1.4 1.4s1.4-.6 1.4-1.4c0-.8-.6-1.4-1.4-1.4zM22.2 5.4H5l-.5-2c0-.2-.2-.4-.5-.4H1.5c-.3 0-.5.2-.5.5s.2.5.5.5h2.2l3.4 12.9c.1.2.3.4.5.4h12.8c.3 0 .5-.2.5-.5s-.2-.5-.5-.5H8l-.3-1.2H20c.6 0 1.1-.4 1.2-1L23 6.4c.1-.5-.3-1-.8-1zm-2 8.5c0 .1-.2.2-.2.2H7.4L5.3 6.4H22l-1.8 7.5z"}))};function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:"24",viewBox:"0 0 24 24"},t),a.a.createElement("path",{d:"M20.5 17.6h-.6c-.8-.2-1.3-.8-1.3-1.6v-4.8c0-3-2.1-5.6-5-6.2.1-.2.2-.5.2-.7 0-.9-.8-1.7-1.7-1.7-.9 0-1.7.8-1.7 1.7 0 .3.1.5.2.7-2.9.7-5 3.2-5 6.2V16c0 .8-.6 1.5-1.3 1.6h-.8v1.2h5.7c.1 1.5 1.3 2.7 2.8 2.7 1.5 0 2.7-1.2 2.8-2.7h5.7v-1.2zM6.6 16v-4.8c0-3 2.4-5.3 5.4-5.3 3 0 5.4 2.4 5.4 5.3V16c0 .6.2 1.2.5 1.6H6.1c.3-.4.5-1 .5-1.6zm5.4 4.4c-.9 0-1.6-.7-1.7-1.6h3.3c0 .9-.7 1.6-1.6 1.6z"}))};function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6 11"},t),a.a.createElement("path",{fill:"#68abb7",d:"M1.1 0L0 .92 4.1 5.5 0 10.08l1.1.92L6 5.52z"}))};function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function V(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?G(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"b",function(){return be}),n.d(t,"a",function(){return we});var ee=document.getElementById("header-container"),te=document.getElementById("user-info"),ne=document.getElementById("nav-submit"),re=te&&te.innerHTML,ae=ne&&ne.innerHTML;function oe(e,t){return Z(Array(t-e+1).keys()).map(function(t){return t+e+""})}function ie(e){return p.e[e].children.map(function(e){return e.id})}var ce=[["100",[].concat(Z(oe(113,117)),["more"])],["101",[].concat(Z(oe(131,135)),["more"])],["102",[].concat(Z(oe(143,145)),["147","149","more"])],["103",[].concat(Z(oe(161,163)),["165","164","more"])],["104",[].concat(Z(oe(172,176)),["more"])],["105",[].concat(Z(oe(184,187)),["more"])],["106",[].concat(Z(oe(195,199)),["more"])],["107",[].concat(Z(oe(203,207)),["more"])],["108",ie("108")],["109",ie("109")],["110",ie("110")],["111",ie("111")],["2",ie("2")],["300",["301","323","349","364","more"]]];function le(e){return e>99?"99+":e}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"/category?kind=".concat(e).concat(t?"#expand":"")}function se(){var e=window.innerWidth;return{isNarrowDesktop:e<1136,isMobile:e<768}}function fe(e){return"".concat(e,"-nav")}var pe="search",me="category";function de(e){var t=e.type,n=e.openedPanel,r=e.onClick,o=e.className,i=e.children,c=e.innerRef,l=X(e,["type","openedPanel","onClick","className","children","innerRef"]);return a.a.createElement("a",Y({className:"".concat(o," ").concat(n===t?"active":""),onClick:function(){return r(t)},ref:c},l),i)}function he(e){var t=e.onClose,n=e.type,r=e.buttonEl,o=X(e,["onClose","type","buttonEl"]);return a.a.createElement(y.a,Y({boundElements:[r],onClickOutside:function(){return t(n)}},o))}de.propTypes={className:c.a.string,children:c.a.node,type:c.a.string.isRequired,openedPanel:c.a.string,onClick:c.a.func.isRequired,innerRef:c.a.func},he.propTypes={type:c.a.string.isRequired,onClose:c.a.func,buttonEl:c.a.object};var ye=function(e){function t(){var e,n;z(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return Q(G(n=V(this,(e=K(t)).call.apply(e,[this].concat(a)))),"state",{isHoveringBtn:!1,isHoveringMenu:!1}),n}return J(t,r.Component),F(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.menu,i=this.state,c=i.isHoveringBtn,l=i.isHoveringMenu;return a.a.createElement("li",{key:n,className:"nav-item-".concat(n," more-active")},a.a.createElement(h.a,{className:"btn-more",onHover:function(t){return e.setState({isHoveringBtn:t})},ref:function(t){return e.btnEl=t}}),(c||l)&&!!this.btnEl&&Object(o.createPortal)(a.a.createElement(h.a,{Tag:"div",className:"drop-down-list nav-drop-down-list",onHover:function(t){return e.setState({isHoveringMenu:t})},style:{left:this.btnEl.getBoundingClientRect().x}},r.map(function(e,t){var n=W(e,3),r=n[1],o=n[2];return a.a.createElement("a",{href:o,key:t},r)})),document.body))}}]),t}();Q(ye,"propTypes",{id:c.a.string.isRequired,menu:c.a.array.isRequired});var ve,ge=function(e){function t(){var e,n;z(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return Q(G(n=V(this,(e=K(t)).call.apply(e,[this].concat(a)))),"state",{openedPanel:null,isHoveringOriginalBtn:!1,isHoveringSubNav:!1,isCategoryExpanded:!1,showSecondSiteNav:!1,searchQuery:"",breakpoints:se()}),Q(G(n),"panelButtonEls",{}),Q(G(n),"togglePanel",function(e){var t=n.state.openedPanel!==e;n.setState({openedPanel:t?e:null})}),Q(G(n),"tryClosePanel",function(e){n.state.openedPanel===e&&n.setState({openedPanel:null})}),n}return J(t,r.Component),F(t,[{key:"componentDidMount",value:function(){var e=this,t=u()(function(){if(!e.isUnmounted){var t=window.scrollY,n=t>200,r=t>100,a=e.state,o=a.isHoveringOriginalBtn,i=a.isHoveringSubNav;e.setState({showSecondSiteNav:n,isHoveringOriginalBtn:o&&!r,isHoveringSubNav:i&&!r})}},200),n=u()(function(){e.isUnmounted||e.setState({breakpoints:se()})},200);window.addEventListener("scroll",t),window.addEventListener("resize",n),this.unbindEvents=function(){window.removeEventListener("scroll",t),window.removeEventListener("resize",n)}}},{key:"componentWillUnmount",value:function(){this.unbindEvents(),this.isUnmounted=!0}},{key:"render",value:function(){var e=this.props.headerData,t=e.storeType,n=e.shouldStick,r=this.state,o=r.openedPanel,i=r.breakpoints,c=r.isHoveringOriginalBtn,l=r.isHoveringSubNav;return a.a.createElement("header",{id:"header-compact-v3",className:f()("header-".concat(t),{"should-stick":n})},a.a.createElement("div",{className:"header-inner"},a.a.createElement("a",{href:"/",title:"豆瓣阅读",className:"site-logo"}),this.renderFuncNav(),i.isNarrowDesktop?this.renderCollapsedSiteNav():this.renderSiteNav(),a.a.createElement("div",{id:"nav-submit",className:"nav-submit",dangerouslySetInnerHTML:{__html:ae}}),this.renderSiteNavRight(),a.a.createElement("div",{className:"user-info",id:"user-info",dangerouslySetInnerHTML:{__html:re}})),o===me&&this.renderCategory(),o===pe&&this.renderSearch(),(c||l)&&this.renderSubNav())}},{key:"renderFuncNav",value:function(){var e=this,t=this.state.openedPanel;return a.a.createElement("nav",{className:"func-nav"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(de,{className:"nav-category",type:me,openedPanel:t,onClick:this.togglePanel,innerRef:function(t){return e.panelButtonEls[me]=t}},a.a.createElement(I,{className:"fill-current-color"}),a.a.createElement("span",{className:"text"},"分类"))),a.a.createElement("li",null,a.a.createElement(de,{className:"nav-search",type:pe,openedPanel:t,onClick:this.togglePanel,innerRef:function(t){return e.panelButtonEls[pe]=t}},a.a.createElement(A,{className:"fill-current-color"}),a.a.createElement("span",{className:"text"},"搜索")))))}},{key:"renderSiteNav",value:function(){var e,t=this,n=this.props.headerData,r=n.storeType,o=n.storeTypes,i=n.navMap,c=n.currentNav,l=this.state.showSecondSiteNav,u="original"===c;return e=u?o.map(function(e){return{type:e,nav:i[e]}}):[{type:r,nav:i[r]}],a.a.createElement("div",{className:f()("site-nav-container",{"show-second-site-nav":u&&l})},e.map(function(e){var n=e.type,r=e.nav;return a.a.createElement("nav",{className:"site-nav site-nav-".concat(n),key:n},a.a.createElement(v.b,{dcm:fe(n)},a.a.createElement("ul",null,r.map(function(e){var r=W(e,3),a=r[0],o=r[1],i=r[2];return t.renderNavItem({id:a,title:o,url:i},n)}))))}))}},{key:"renderCollapsedSiteNav",value:function(){var e=this.props.headerData,t=e.mobileMoreMenu,n=e.storeType,r=e.navMap,o=this.state.breakpoints.isMobile?t:r[n].filter(function(e){return"app"!==W(e,1)[0]});return a.a.createElement("div",{className:"site-nav-container"},a.a.createElement("nav",{className:"site-nav site-nav-mobile"},a.a.createElement("ul",null,a.a.createElement(ye,{id:"mobile-more",menu:o}),a.a.createElement("li",{className:"nav-item-app"},a.a.createElement("a",{href:"/app"},"下载 App")))))}},{key:"renderNavItem",value:function(e,t){var n=e.id;return"original_more"===n?this.renderOriginalMoreItem(e):"normal"===t&&"original"===n?this.renderOriginalNavItem(e):this.renderNormalNavItem(e)}},{key:"renderNormalNavItem",value:function(e){var t=e.id,n=e.url,r=e.title,o=t===this.props.headerData.currentNav;return a.a.createElement("li",{key:t,className:"nav-item-".concat(t)},a.a.createElement(g.a,{to:n,className:o?"active":""},r))}},{key:"renderOriginalNavItem",value:function(e){var t=this,n=e.title,r=e.id,o=e.url;return a.a.createElement("li",{key:r,className:"nav-item-".concat(r)},a.a.createElement(g.a,{to:o,component:function(e){var r=e.to;return a.a.createElement(h.a,{href:r,mouseLeaveDelay:100,onHover:function(e){return t.setState({isHoveringOriginalBtn:e,openedPanel:null})}},n)}}))}},{key:"renderOriginalMoreItem",value:function(e){var t=e.id,n=this.props.headerData.originalMoreMenu;return a.a.createElement(ye,{id:t,menu:n,key:t})}},{key:"renderSiteNavRight",value:function(){var e=this.props.headerData,t=e.cartCount,n=e.notiCount,r=this.state.breakpoints.isMobile;return a.a.createElement("nav",{className:"site-nav-right"},a.a.createElement("ul",null,r&&a.a.createElement("li",{className:"nav-search"},a.a.createElement("a",{href:"/search"},a.a.createElement(A,{className:"fill-current-color"}))),!m.a.isAnonymous&&a.a.createElement("li",{className:"nav-cart"},a.a.createElement("a",{href:"/account/wishlist"},a.a.createElement(q,{className:"fill-current-color"}),!!t&&a.a.createElement("span",{className:"nav-num cart-count"},le(t)))),!m.a.isAnonymous&&a.a.createElement("li",{className:"nav-noti"},a.a.createElement("a",{href:"/account/notifications"},a.a.createElement(B,{className:"fill-current-color"}),!!n&&a.a.createElement("span",{className:"nav-num noti-count"},le(n))))))}},{key:"renderCategory",value:function(){var e=this,t=this.state.isCategoryExpanded;return a.a.createElement(he,{type:me,className:"category-container ".concat(t?"is-expanded":""),onClose:this.tryClosePanel,buttonEl:this.panelButtonEls[me]},a.a.createElement("section",{className:"category-section"},a.a.createElement("h3",{className:"kind-l1"},"原创作品"),a.a.createElement("div",{className:"original-category-list"},p.e[p.d].children.map(function(e){var t=e.id,n=e.name;return a.a.createElement("a",{className:"kind-l3 btn-contained","data-size":"s",key:t,href:ue(t)},n)}))),a.a.createElement("section",{className:"category-section"},a.a.createElement("h3",{className:"kind-l1"},"电子图书"),a.a.createElement("div",{className:"ebook-category-list-container"},a.a.createElement("ul",{className:"ebook-category-list"},ce.map(function(e){var t=W(e,2),n=t[0],r=t[1],o=p.e[n];return a.a.createElement("li",{key:n},a.a.createElement("a",{className:"kind-l2",href:ue(n)},o.name,a.a.createElement(L,{width:4,height:7,className:"icon-arrow-right fill-current-color"})),r.map(function(e){if("more"===e)return a.a.createElement("a",{href:ue(n,!0),key:e,className:"kind-l3"},"更多");var t=p.e[e];return a.a.createElement("a",{href:ue(e),key:e,className:"kind-l3"},t.name)}))})))),!t&&a.a.createElement("a",{className:"btn-expand",onClick:function(){return e.setState({isCategoryExpanded:!0})}},a.a.createElement(L,{width:7,height:14,className:"icon-arrow-right fill-current-color"})))}},{key:"renderSearch",value:function(){var e=this;return a.a.createElement(he,{type:pe,className:"search-container",onClose:this.tryClosePanel,buttonEl:this.panelButtonEls[pe]},a.a.createElement(d.a,{autoFocus:!0,initialQueryString:this.state.searchQuery,onQueryStringChange:function(t){return e.setState({searchQuery:t})}}))}},{key:"renderSubNav",value:function(){var e=this,t=this.props.headerData.originalSubNav;return a.a.createElement(h.a,{Tag:"div",className:"sub-nav-container",onHover:function(t){return e.setState({isHoveringSubNav:t})}},a.a.createElement("div",{className:"sub-nav-section"},a.a.createElement(v.b,{dcm:fe("original")},a.a.createElement("ul",{className:"sub-nav"},t.map(function(t){var n=W(t,3),r=n[0],a=n[1],o=n[2];return e.renderNormalNavItem({id:r,title:a,url:o})})))))}}]),t}();function be(e){ve&&ve(e)}Q(ge,"propTypes",{headerData:c.a.object.isRequired});var Ee=Ark.headerData||{},we=function(e){function t(){var e,n;z(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return Q(G(n=V(this,(e=K(t)).call.apply(e,[this].concat(a)))),"state",{cartCount:Ee.cartCount}),n}return J(t,r.Component),F(t,[{key:"componentDidMount",value:function(){var e=this;ve=function(t){e.setState({cartCount:t})}}},{key:"render",value:function(){if(!ee)return null;var e=this.state.cartCount,t=this.props,n=t.storeType,r=t.shouldStick,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Q(e,t,n[t])})}return e}({},Ee,{cartCount:e,storeType:n,shouldStick:r});return Object(o.createPortal)(a.a.createElement(a.a.Fragment,null,a.a.createElement(ge,{headerData:i}),a.a.createElement(T,null)),ee)}}]),t}();Q(we,"propTypes",{storeType:c.a.string,shouldStick:c.a.bool}),Q(we,"defaultProps",{storeType:Ee.storeType,shouldStick:Ee.shouldStick})},173:function(e,t,n){var r;void 0===(r=function(){return function(){var e=function(e,r,a){return 1===arguments.length?t(e):n(e,r,a)};function t(e){var t=document.cookie.match(new RegExp("(?:\\s|^)"+e+"\\=([^;]*)"));return t?decodeURIComponent(t[1]):null}function n(e,t,n){n=n||{};var r,a,o,i=e+"="+encodeURIComponent(t),c=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",u=n["max-age"],s=n.secure?"; secure":"";n.expires?o=n.expires:u&&((r=new Date).setTime(r.getTime()+1e3*u),o=r.toGMTString()),o&&(a="; expires="+o),document.cookie=[i,a,c,l,s].join("")}return e.get=t,e.set=n,e.remove=function(e){n(e,"",{"max-age":0})},e}()}.call(t,n,t,e))||(e.exports=r)},21:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return E});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(34),l=n(12);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=Object(r.createContext)({}),h=d.Consumer,y=d.Provider,v=["dcs","dcm","dcn"];function g(t){var n=t.children,r=m(t,["children"]);if("production"!==e.NODE_ENV){var o=Object.keys(r).filter(function(e){return!v.includes(e)});o.length>0&&window.console.warn(o.join(","),"are unknown tag names")}return a.a.createElement(h,null,function(e){return a.a.createElement(y,{value:f({},e,r)},n)})}function b(e){var t=e.to,n=e.component,r=void 0===n?function(e){var t=e.to,n=m(e,["to"]);return a.a.createElement("a",u({href:t},n))}:n,o=m(e,["to","component"]);return a.a.createElement(h,null,function(e){var n,i,l,p,m=(n=o,i=v,l={},p={},Object.entries(n).forEach(function(e){var t=s(e,2),n=t[0],r=t[1];i.includes(n)?l[n]=r:p[n]=r}),[l,p]),d=s(m,2),h=d[0],y=d[1];h=f({},e,h);var g=function(e,t){if(null!=e)return Object(c.addParam)(e,t)}(t,h);return a.a.createElement(r,u({to:g},y))})}function E(e){e.listen(function(){var e;e=location.pathname+(location.search||"")+location.hash,l.b.get("/j/page_view?url="+encodeURIComponent(e))})}g.propTypes={children:i.a.node.isRequired},b.propTypes={to:i.a.string,dcm:i.a.string,dcs:i.a.string,dcn:i.a.string,component:i.a.func}}).call(this,n(176))},22:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(155),l=n(89);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},t),a.a.createElement("path",{fill:"#DDD",d:"M6.688 3.125l3.37.694-2.345 2.619L8.14 10 5.03 8.475 1.923 10l.428-3.563L0 3.82l3.37-.694L5.028 0z"}))};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 5 10"},t),a.a.createElement("path",{d:"M3.352 3.142L0 3.82l2.333 2.62L1.91 10 5 8.476V0L3.352 3.142z"}))};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 5 10"},t),a.a.createElement("path",{d:"M5 3.82l-3.352-.678L0 0v8.476L3.09 10l-.423-3.56L5 3.82z"}))};function h(e){for(var t=e.rating,n=e.starSize,r=void 0===n?10:n,o={width:r+"px",height:r+"px",marginRight:r/5+"px"},i={width:r/2+"px",height:r+"px"},c=[],u=2*t,f=5;f>0;f-=1,u-=2){var m=c.length;u>=1.5?c.push(a.a.createElement(l.a,{key:m,className:"star star-yellow",style:o})):u>=.5?c.push(a.a.createElement("span",{className:"star",key:m,style:o},a.a.createElement(p,{className:"star-left-half star-yellow",style:i}),a.a.createElement(d,{className:"star-left-half star-gray",style:i}))):c.push(a.a.createElement(s,{key:m,className:"star",style:o}))}return a.a.createElement("div",{className:"rating"},c)}function y(e){var t=e.averageRating,n=e.ratingCount,o=e.url,i=e.showRatingCount,u=void 0===i||i;return a.a.createElement("div",{className:"rating"},n<10||0===t?a.a.createElement(r.Fragment,null,a.a.createElement(s,{className:"rating-star"}),a.a.createElement("span",{className:"no-rating"},"暂无评分")):a.a.createElement(r.Fragment,null,a.a.createElement(l.a,{className:"rating-star"}),a.a.createElement("span",{className:"score"},(2*t).toFixed(1)),u&&a.a.createElement("a",{className:"amount",href:o?o+"ratings":void 0,target:"_blank"},Object(c.a)(n)," 评分")))}function v(e){var t=e.isNew,n=e.canShowNewLabel,r=void 0!==n&&n,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["isNew","canShowNewLabel"]);return t&&r?a.a.createElement("span",{className:"tag-new"},"新作"):a.a.createElement(y,o)}function g(e){var t=e.favorCount;return a.a.createElement("span",{className:"favor"},a.a.createElement("i",{className:"icon-heart"}),t)}function b(e){var t=e.isEssay,n=e.favorCount;return t?a.a.createElement(g,{favorCount:n}):a.a.createElement(v,e)}n.d(t,"b",function(){return h}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return b}),h.propTypes={rating:i.a.number.isRequired,starSize:i.a.number},y.query=function(){return"\n    averageRating\n    ratingCount\n    url\n  "},y.propTypes={averageRating:i.a.number.isRequired,ratingCount:i.a.number,url:i.a.string.isRequired,showRatingCount:i.a.bool},v.propTypes={isNew:i.a.bool,canShowNewLabel:i.a.bool},v.query=function(e){return"\n    isNew\n    ".concat(y.query(e),"\n  ")},g.propTypes={favorCount:i.a.number.isRequired},g.query=function(){return"\n    ... on EssayWorks {\n      favorCount\n    }\n  "},b.propTypes={isEssay:i.a.bool.isRequired,favorCount:i.a.number},b.query=function(e){return"\n    isEssay\n    ".concat(g.query(e),"\n    ").concat(v.query(e),"\n  ")}},238:function(e,t,n){var r=n(239);"string"==typeof r&&(r=[[e.i,r,""]]);n(96)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},239:function(e,t,n){t=e.exports=n(95)(!1);var r=n(156)(n(240));t.push([e.i,"#modal-overlay.login-dialog .overlay-content {\n  width: auto !important;\n  height: auto !important;\n  min-width: 340px;\n  min-height: 450px;\n  padding: 0;\n}\n#modal-overlay.login-dialog iframe {\n  width: auto !important;\n  height: auto !important;\n  min-width: 340px;\n  min-height: 450px;\n}\n#modal-overlay.login-dialog #modal {\n  position: relative;\n  z-index: 0;\n}\n#modal-overlay.login-dialog #modal::before {\n  content: '正在加载，请稍候…';\n  background: url("+r+") no-repeat center top 190px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 14px;\n  bottom: 0;\n  height: 480px;\n  line-height: 480px;\n  color: #a6a6a6;\n  font-size: 16px;\n  text-align: center;\n  z-index: -1;\n}\n#modal-overlay.login-dialog .modal-hd {\n  display: none;\n}",""])},24:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return d});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(155),l=n(331),u=n(22),s=n(28),f=n(11);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){var t=e.id,n=e.name,r=e.shortName,o=e.shorten;return(void 0===o||o)&&(n=r),a.a.createElement("a",{className:"kind-link",href:"/category/?kind="+t,target:"_blank"},n)}function d(e){var t,n,o,i,d,h,y,v,g=e.item,b=e.stickyKindId,E=e.showRating,w=void 0===E||E,O=e.showWordCount,k=void 0===O||O,x=e.showUpdateTime,S=e.showProgressInfo,N=void 0===S||S,j=e.shortenKindName,P=e.moreExtraInfo,C=b&&g.kinds.find(function(e){return e.id===b})||g.kinds[0],T=g.kinds.filter(function(e){return e.id!==C.id});return a.a.createElement("div",{className:"extra-info"},a.a.createElement("div",{className:"sticky-info"},w&&a.a.createElement(r.Fragment,null,a.a.createElement(u.c,g),a.a.createElement(f.a,null)),k&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,(y=g.wordCount,v=(v=g.wordCountUnit)||"字",y>1e4?"约 ".concat((y/1e4).toFixed(1)," 万").concat(v):"共 ".concat(Object(c.a)(y)," ").concat(v))),a.a.createElement(f.a,null)),a.a.createElement(m,p({},C,{shorten:j}))),a.a.createElement("div",{className:"flexible-info"},P&&P.map(function(e,t){return a.a.createElement("span",{className:"flexible-info-item",key:t},a.a.createElement(f.a,null),e)}),x&&a.a.createElement("span",{className:"flexible-info-item"},a.a.createElement(f.a,null),(o=(t=g).onSaleTime,i=t.updateTime,d=t.isColumn,h=t.isEssay,n=d?i+"更新":o+(h?"发表":"上架"),Object(l.a)(n))),N&&g.isColumn&&!g.isFinished&&a.a.createElement("span",{className:"flexible-info-item"},a.a.createElement(f.a,null),"连载中"),g.essayActivityData&&a.a.createElement("span",{className:"flexible-info-item"},a.a.createElement(f.a,null),a.a.createElement(s.a,{activity:g.essayActivityData})),g.isOrigin&&g.highlightTags.slice(0,1).map(function(e){var t=e.name;return a.a.createElement("span",{className:"flexible-info-item",key:t},a.a.createElement(f.a,null),a.a.createElement(s.b,{name:t,key:t}))}),!g.isOrigin&&T.map(function(e){return a.a.createElement("span",{className:"flexible-info-item",key:e.id},a.a.createElement(f.a,null),a.a.createElement(m,p({},e,{shorten:j})))})))}m.propTypes={id:i.a.number.isRequired,name:i.a.string,shortName:i.a.string,shorten:i.a.bool},m.query=function(e){var t=e.shortenKindName,n=void 0===t||t;return"\n    name @skip(if: ".concat(n,")\n    shortName @include(if: ").concat(n,")\n    id\n  ")},d.propTypes={item:i.a.object.isRequired,stickyKindId:i.a.number,showRating:i.a.bool,showWordCount:i.a.bool,showUpdateTime:i.a.bool,showProgressInfo:i.a.bool,shortenKindName:i.a.bool,moreExtraInfo:i.a.arrayOf(i.a.node)},d.query=function(e){var t=e.includeRating,n=void 0===t||t,r=e.includeUpdateTime,a=void 0!==r&&r,o=e.includeProgressInfo,i=void 0===o||o,c=e.includeWordCount,l=void 0===c||c;return"\n    isOrigin\n    kinds {\n      ".concat(m.query(e),"\n    }\n    ... on WorksBase @include(if: ").concat(l,") {\n      wordCount\n      wordCountUnit\n    }\n    ... on WorksBase @include(if: ").concat(n,") {\n      ").concat(u.c.query(e),"\n    }\n    ... on WorksBase @include(if: ").concat(a,") {\n      isColumn\n      isEssay\n      onSaleTime\n      ... on ColumnWorks {\n        updateTime\n      }\n    }\n    ... on WorksBase @include(if: ").concat(i,") {\n      isColumn\n      ... on ColumnWorks {\n        isFinished\n      }\n    }\n    ... on EssayWorks {\n      essayActivityData {\n        ").concat(s.a.query(e),"\n      }\n    }\n    highlightTags {\n      name\n    }\n  ")}},240:function(e,t,n){e.exports=n.p+"public/pics/icon-bird.png?5839942"},26:function(e,t,n){"use strict";t.a=Ark.user},27:function(e,t,n){"use strict";n.r(t),n.d(t,"openLoginDialog",function(){return k}),n.d(t,"default",function(){return S}),n.d(t,"RequireLoginElement",function(){return N});var r=n(0),a=n.n(r),o=n(8),i=n(9),c=n.n(i),l=n(26),u=n(68);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}n(238);var b=Ark.LOGIN_POPUP_URI,E=document.createElement("div");E.id="login-dialog-container",document.body.appendChild(E);var w,O=function(e,t){return(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector).call(e,t)};function k(){w&&w()}var x=function(e){function t(){return p(this,t),h(this,v(t).apply(this,arguments))}return g(t,r.Component),d(t,[{key:"componentDidMount",value:function(){var e=location.href;document.cookie="refer_url="+e+";domain=douban.com;path=/"}},{key:"render",value:function(){var e=this.props,t=e.isSignup,n=e.onClose,r="".concat(b,"?source=ark").concat(t?"#popup_register":"");return a.a.createElement(u.a,{onClose:n,className:"login-dialog",maskClosable:!0},a.a.createElement("iframe",{src:r,frameBorder:"0"}))}}]),t}(),S=function(e){function t(){var e,n;p(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return s(y(n=h(this,(e=v(t)).call.apply(e,[this].concat(a)))),"state",{isOpened:!1,isSignup:!1}),s(y(n),"handleClickDoc",function(e){var t=function e(t,n){return t?t.closest?t.closest(n):O(t,n)?t:e(t.parentElement,n):null}(e.target,".login, .signup, .require-login");l.a.id||t&&(e.preventDefault(),O(t,".signup")?n.setState({isOpened:!0,isSignup:!0}):n.setState({isOpened:!0,isSignup:!1}))}),n}return g(t,r.Component),d(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",this.handleClickDoc),w=function(){e.setState({isOpened:!0})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickDoc),w=void 0}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpened,r=t.isSignup;return n&&Object(o.createPortal)(a.a.createElement(x,{isSignup:r,onClose:function(){return e.setState({isOpened:!1})}}),E)}}]),t}();function N(e){var t=e.className,n=e.children,r=e.Tag,o=void 0===r?"a":r,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["className","children","Tag"]);return a.a.createElement(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({className:c()(t,{"require-login":!i.disabled})},i),n)}},28:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(e){var t=e.name;return a.a.createElement("a",{href:"/tag/"+t,className:"tag",target:"_blank"},t)}function l(e){var t=e.activity,n=t.tag,r=t.title,o=t.uri,i={color:n.color,background:n.background},c={height:n.iconSize.height,paddingRight:n.iconPosition.x,marginTop:-n.iconPosition.y};return a.a.createElement("a",{href:o,className:"tag tag-activity",style:i,title:r,target:"_blank"},n.name,a.a.createElement("img",{className:"icon-activity",src:n.icon2x,srcSet:n.icon3x+" 3x",style:c}))}c.propTypes={name:i.a.string.isRequired},l.query=function(){return"\n    title\n    uri\n    tag {\n      name\n      color\n      background\n      icon2x\n      icon3x\n      iconSize {\n        height\n      }\n      iconPosition {\n        x y\n      }\n    }\n  "},l.propTypes={activity:i.a.object.isRequired}},287:function(e,t,n){var r=n(288);"string"==typeof r&&(r=[[e.i,r,""]]);n(96)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},288:function(e,t,n){(e.exports=n(95)(!1)).push([e.i,".paginator-full {\n  margin: 30px 0;\n  text-align: center;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  font-size: 14px;\n  line-height: 30px;\n}\n.paginator-full .page-prev,\n.paginator-full .page-next {\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  cursor: pointer;\n  width: 40px;\n  height: 30px;\n  text-align: center;\n  background: #fff;\n  box-shadow: 0 1px 3px 0 rgba(0,0,0,0.1);\n  border-radius: 2px;\n}\n.paginator-full .page-prev .icon-direction,\n.paginator-full .page-next .icon-direction {\n  vertical-align: middle;\n}\n.paginator-full .page-prev .icon-direction path,\n.paginator-full .page-next .icon-direction path {\n  fill: #3e4347;\n}\n.paginator-full .page-prev:hover,\n.paginator-full .page-next:hover {\n  background: #68abb7;\n}\n.paginator-full .page-prev:hover .icon-direction path,\n.paginator-full .page-next:hover .icon-direction path {\n  fill: #fff;\n}\n.paginator-full .page-prev.disabled,\n.paginator-full .page-next.disabled {\n  cursor: default;\n  background: #ddd;\n}\n.paginator-full .page-prev.disabled .icon-direction path,\n.paginator-full .page-next.disabled .icon-direction path {\n  fill: #a6a6a6;\n}\n.paginator-full .page-prev {\n  margin-right: 15px;\n}\n.paginator-full .page-next {\n  margin-left: 15px;\n}\n.paginator-full li {\n  display: inline-block;\n}\n.paginator-full .page {\n  display: block;\n  margin: 0 3px;\n  padding: 0 12px;\n  color: #333;\n  border-radius: 2px;\n}\n.paginator-full .page:hover,\n.paginator-full .page.active {\n  background: #68abb7;\n  color: #fff;\n}\n.paginator-full .page.active {\n  cursor: default;\n}",""])},3:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.children;return t&&t.length?t.reduce(function(e,t){return e.concat(o(t))},[]):[e]}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return s});var i=Ark.kindIdMap.CN_BOOK,c=Ark.kindIdMap.EN_BOOK,l=Ark.kindIdMap.ORIGIN_WORKS,u=Ark.kindIdMap.ORIGIN_NON_FICTION,s=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce(function(t,o){return r({},t,a({},o.id,r({},o,{elders:n})),e(o.children||[],n.concat([o])))},{})}(Ark.kindTree);o(s[l]),o(s[u])},30:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return d});var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return this,n=!(r=(e=u(t)).call.apply(e,[this].concat(o)))||"object"!==c(r)&&"function"!=typeof r?s(this):r,p(s(n),"state",{hasError:!1}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.Component),n=t,o=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}],(a=[{key:"componentDidCatch",value:function(e,t){window.console.error(e,t)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.renderFallback,r=this.state,a=r.hasError,o=r.error;return a?n(o):t}}])&&l(n.prototype,a),o&&l(n,o),t}();function d(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).renderFallback;return function(t){return function(n){return a.a.createElement(m,{renderFallback:e},a.a.createElement(t,n))}}}p(m,"propTypes",{children:i.a.node,renderFallback:i.a.func}),p(m,"defaultProps",{renderFallback:function(){return a.a.createElement("div",{className:"error"},"出现了奇怪的错误 :(")}})},301:function(e,t,n){var r=n(302);"string"==typeof r&&(r=[[e.i,r,""]]);n(96)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},302:function(e,t,n){(e.exports=n(95)(!1)).push([e.i,".global-entrance {\n  position: fixed;\n  right: 20px;\n  bottom: 20px;\n  z-index: 90;\n  -webkit-animation: popup ease 0.5s;\n  animation: popup ease 0.5s;\n}\n.global-entrance .entrance {\n  display: block;\n  background: center/contain no-repeat;\n}\n.global-entrance .btn-close {\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  right: -15px;\n  top: -15px;\n  background: #fff;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border: none;\n  border-radius: 30px;\n  color: #3e4347;\n  box-shadow: 1px 1px 3px rgba(0,0,0,0.1);\n}\n.global-entrance .btn-close:hover {\n  background: #68abb7;\n  color: #fff;\n}\n.global-entrance .btn-close svg {\n  height: 10px;\n  width: 10px;\n}\n@media (max-width: 414px) {\n  .global-entrance {\n    display: none;\n  }\n}\n@-moz-keyframes popup {\n  from {\n    transform: translate3d(0, 20px, 0);\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n@-webkit-keyframes popup {\n  from {\n    -webkit-transform: translate3d(0, 20px, 0);\n    transform: translate3d(0, 20px, 0);\n  }\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n@-o-keyframes popup {\n  from {\n    transform: translate3d(0, 20px, 0);\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes popup {\n  from {\n    -webkit-transform: translate3d(0, 20px, 0);\n    transform: translate3d(0, 20px, 0);\n  }\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}",""])},32:function(e,t){e.exports={$fontSizeSmall:12,$fontSizeBase:13,$fontSizeLarge:15,$fontSizeHuge:18,$fontSizeIcon:9,$fontSizeLabel:8,$fontSizeTitleTag:10,$fontSizeH1:21,$fontSizeH2:20,$fontSizeH3:16,$fontSizeH4:15,$fontSizeH5:14,$labelBlue:"#3e82f8",$btnActiveGray:"#d9d9d9",$coverShadowGray:"rgba(0,0,0,0.35)",$textGreen:"#8bbbae",$borderBlue:"#d8e3ea",$darkBodyBg:"#2c2c2c",$darkTextGray:"#666",$darkTextBlack:"#959595",$darkElementBg:"#343535",$darkBorderGray:"#171717",$darkBorderHighlight:"#434343",$darkBtnBorderGray:"#222",$white:"#fff",$gray:"#a6a6a6",$gray50:"#ddd",$grayBlack:"#333",$grayBlack50:"#777",$grayBlack110:"#111",$blueBlack:"#3e4347",$blueBlack110:"#262a2d",$blue:"#68abb7",$blue5:"#f8f9f9",$blue10:"#ebf0f2",$blue15:"#e4ecee",$blue30:"#d1dfe4",$blue60:"#abc6cf",$blue110:"#658c99",$green:"#5dcaad",$green5:"#f1fffb",$green50:"#9de5d2",$green60:"#8ad8c1",$green110:"#61b39b",$red:"#fa595f",$red5:"#fff5f5",$red30:"#ffe4e5",$red50:"#fcacaf",$red110:"#df3b42",$orange:"#ff9e2c",$orange5:"#fff5e9",$orange50:"#ffce95",$skyBlue:"#3e8ef8",$skyBlue5:"#f4f8ff",$skyBlue50:"#aacaff",$grayBlue:"#6a9acc",$pink:"#ef3b76",$pink5:"#fff7fa",$pink50:"#f9b1c8",$gold:"#bb996d",$gold50:"#d6c0a2",$gold5:"#fcfbf9",$yellow:"#f9c300",$yellow50:"#ffea9f",$yellow5:"#ffffe8",$borderGray:"#ddd",$textGray:"#a6a6a6",$textGrayDark:"#777",$textBlack:"#333",$textBlackDark:"#111",$bodyGray:"#f8f9f9",$priceColor:"#61b39b",$discountPriceColor:"#fa595f",$originalPriceColor:"#a6a6a6",$doubanGreen:"#42bd56",$blankComment:"暂无回复",$blankCoupon:"暂无失效礼券",$blankSearchResult:"没有找到相应作品",$coverRightMargin:13}},331:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=new RegExp("([a-z0-9])([぀-ㄯ㈀-㋿㐀-䶿一-鿿豈-﫿])","ig"),a=new RegExp("([぀-ㄯ㈀-㋿㐀-䶿一-鿿豈-﫿])([a-z0-9])","ig");function o(e){return e.replace(a,"$1 $2").replace(r,"$1 $2")}},34:function(e,t,n){var r;void 0===(r=function(){return function(){var e={getURLParameter:function(e,t){var n=(t=t||location.search).match(RegExp(e+"=(.+?)(&|$)"));return n?decodeURIComponent(n[1]):null}},t=/\+/g;e.deparam=function(e){for(var n={},r=e.replace(t," ").split("&"),a=0,o=r.length;a<o;a++){var i=r[a].split("="),c=decodeURIComponent([i[0]]),l=decodeURIComponent([i[1]]);n[c]=l}return n};var n=e.join=function(){return[].slice.call(arguments,0).join("/").replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};e.getParam=function(t,n){return e.getURLParameter(n,t)},e.addParam=function(e,t){var n="";for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];void 0!==a&&(n&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a))}if(!n)return e;var o="",i="",c=e,l=c.indexOf("#"),u=c.indexOf("?");return-1!==l&&(o=c.substr(l),c=c.slice(0,l)),-1!==u&&(i=c.substr(u),c=c.slice(0,u)),c+(i?i+"&"+n:"?"+n)+(o||"")};var r=e.hasSameOrigin=function(e,t){return"/"===e[0]||new RegExp("^"+t).test(e)};e.getRelativeUrl=function(e,t){return"/"!==e[0]&&r(e,t)?n("/",e.substr(t.length)):e};var a=/^\/?/;return e.getBackboneFragment=function(e){return e.replace(a,"")},e}()}.call(t,n,t,e))||(e.exports=r)},35:function(e,t,n){"use strict";var r=n(21);t.a=r.a},41:function(e,t,n){"use strict";var r,a,o,i,c;function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return i}),function(e){e[e.WORKS=0]="WORKS",e[e.COLUMN=1]="COLUMN",e[e.CHAPTER=2]="CHAPTER",e[e.ESSAY=3]="ESSAY",e[e.BULLETIN=4]="BULLETIN"}(i||(i={})),l(r={},i.WORKS,{name:"中篇作品",shortName:"中篇"}),l(r,i.COLUMN,{name:"长篇连载作品",shortName:"长篇连载"}),l(r,i.CHAPTER,{name:"单篇",shortName:"单篇"}),l(r,i.ESSAY,{name:"短篇作品",shortName:"短篇"}),l(r,i.BULLETIN,{name:"公告",shortName:"公告"}),function(e){e.IN_REVIEW="inReview",e.ON_SALE="onSale",e.REVISE="revise",e.WITHDRAWN="withdrawn",e.REJECTED="rejected",e.PASSED="passed",e.DRAFT="draft"}(c||(c={})),l(a={},c.IN_REVIEW,{name:"待审稿"}),l(a,c.ON_SALE,{name:"已上架"}),l(a,c.REVISE,{name:"待修订"}),l(a,c.WITHDRAWN,{name:"已下架"}),l(a,c.REJECTED,{name:"已退稿"}),l(a,c.PASSED,{name:"待上架"}),l(a,c.DRAFT,{name:"草稿"});var u=c;l(o={},u.IN_REVIEW,{name:"未上架"}),l(o,u.REVISE,{name:"未上架"}),l(o,u.REJECTED,{name:"未上架"}),l(o,u.PASSED,{name:"未上架"}),l(o,u.DRAFT,{name:"未上架"}),l(o,u.ON_SALE,{name:"已上架"}),l(o,u.WITHDRAWN,{name:"已下架"})},46:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=null,u=null,s=Object(r.forwardRef)(function(e,t){var n=e.onHover,r=e.Tag,o=void 0===r?"a":r,i=e.mouseLeaveDelay,s=void 0===i?0:i,f=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["onHover","Tag","mouseLeaveDelay"]);return a.a.createElement(o,c({onMouseEnter:function(){l?u=n:n(!0)},onMouseLeave:function(){u!==n?l=setTimeout(function(){n(!1),u&&(u(!0),u=null),l=null},s):u=null},ref:t},f))});s.propTypes={onHover:i.a.func.isRequired,Tag:i.a.string,mouseLeaveDelay:i.a.number},t.a=s},53:function(e,t,n){"use strict";n.d(t,"b",function(){return R}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return I}),n.d(t,"c",function(){return B}),n.d(t,"a",function(){return $});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(52),l=n(12),u=n(32),s=n(46),f=n(24),p=n(10),m=n(16),d=n(11),h=n(28),y=n(90),v=n(14),g=n(30),b=n(62),E=n(155);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?j(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R={BOOK_RATING:"bookRating",READ_COUNT:"readCount"};function _(e){var t=e.channel,n=e.type;return"ebook"===t&&"highly_rated_sales"===n?R.BOOK_RATING:"new_column"===n?R.READ_COUNT:void 0}function I(e,t){switch(e){case R.READ_COUNT:return"".concat(Object(E.a)(t.readCount)," 阅读")}}function A(e){var t=e.rankingItem,n=e.reasonType,r=t.works;return a.a.createElement("div",{className:"rank-works-simple"},a.a.createElement(p.a,T({},r,{Tag:"h3"})),r.isOrigin&&r.kinds.map(function(e,t){return a.a.createElement(f.a,T({},e,{className:"kind",shorten:!0,key:t}))}),n===R.BOOK_RATING&&r.book&&a.a.createElement(y.a,{book:r.book,showRatingCount:!1,showFrom:!1}))}function D(e){var t=e.rankingItem,n=e.reasonType,r=t.works,o=I(n,t);return a.a.createElement("div",{className:"rank-works-detailed"},a.a.createElement("div",{className:"info"},a.a.createElement(p.a,T({},r,{Tag:"h3"})),a.a.createElement(v.a,r),a.a.createElement("div",{className:"extra-info"},r.isOrigin&&r.kinds.slice(0,1).map(function(e,t){return a.a.createElement("span",{className:"info-item",key:t},a.a.createElement(f.a,T({},e,{shorten:!0})))}),r.isOrigin&&r.highlightTags.slice(0,1).map(function(e){var t=e.name;return a.a.createElement("span",{className:"info-item",key:t},a.a.createElement(d.a,null),a.a.createElement(h.b,{name:t}))}),n===R.BOOK_RATING&&r.book&&a.a.createElement(y.a,{book:r.book,showRatingCount:!1})),o&&a.a.createElement("div",{className:"rank-reason"},o)),a.a.createElement(m.a,r))}A.propTypes={rankingItem:i.a.object.isRequired,reasonType:i.a.string},D.propTypes={rankingItem:i.a.object.isRequired,reasonType:i.a.string};var q=function(e){function t(){var e,n;O(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return C(j(n=S(this,(e=N(t)).call.apply(e,[this].concat(a)))),"state",{currentHoverIndex:null}),n}return P(t,r.Component),x(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.rankingList,r=t.reasonType,o=this.state.currentHoverIndex;return a.a.createElement("ol",{className:"ranking-list"},n.map(function(t,n){var i=t.currentRank;return a.a.createElement(s.a,{className:"ranking-item",key:n,Tag:"li",onHover:function(t){return e.setState({currentHoverIndex:t?n:null})}},a.a.createElement("div",{className:"ranking-number"},i),a.a.createElement("div",{className:"ranking-item-content"},n===o||null===o&&0===n?a.a.createElement(D,{reasonType:r,rankingItem:t}):a.a.createElement(A,{rankingItem:t,reasonType:r})))}))}}]),t}();function H(e){var t=e.text,n=e.url,r=e.className;return a.a.createElement("a",{href:n,className:r},t)}function B(e){var t=e.ranking,n=e.rankingMeta,r=e.renderDetailLink,o=void 0===r?H:r,i=n.name,c=n.fullName,l=n.channel,u=n.type,s=_(n);return a.a.createElement("div",{className:"ranking-card"},a.a.createElement("div",{className:"hd"},a.a.createElement("h1",null,i),a.a.createElement("h2",null,c)),a.a.createElement("div",{className:"bd"},t?a.a.createElement(q,{rankingList:t.list,reasonType:s,showBookRating:s}):a.a.createElement(M,null)),t&&a.a.createElement("div",{className:"ft"},o({url:Object(b.b)({type:u,channel:l}),text:"查看详情",className:"lnk-more"})))}function M(){return a.a.createElement(c.a,{width:230,height:476,className:"ranking-card-loader",animate:!1,primaryColor:u.$blue10,secondaryColor:u.$blue10},a.a.createElement("rect",{x:0,y:0,rx:2,ry:2,width:64,height:18}),a.a.createElement("rect",{x:0,y:24,rx:2,ry:2,width:24,height:14}),a.a.createElement("rect",{x:0,y:55,rx:2,ry:2,width:76,height:14}),a.a.createElement("rect",{x:150,y:0,rx:2,ry:2,width:80,height:120}),[180,105,90,147,160,130,150,140,167].map(function(e,t){return a.a.createElement(r.Fragment,{key:t},a.a.createElement("rect",{x:0,y:140+38*t,rx:2,ry:2,width:e,height:18}),a.a.createElement("rect",{x:206,y:142+38*t,rx:2,ry:2,width:24,height:16}))}))}C(q,"propTypes",{rankingList:i.a.array.isRequired,reasonType:i.a.string}),B.propTypes={ranking:i.a.object,rankingMeta:i.a.object.isRequired,renderDetailLink:i.a.func};var $=function(e){function t(){var e,n;O(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return C(j(n=S(this,(e=N(t)).call.apply(e,[this].concat(a)))),"state",{ranking:null,isFailed:!1}),n}return P(t,r.Component),x(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"load",value:function(){var e=this,t=this.props.rankingMeta,n=t.channel,r=t.type;l.b.get(Object(b.a)({channel:n,type:r})).then(function(t){return!e.isUnmounted&&e.setState({ranking:t})},function(){return!e.isUnmounted&&e.setState({isFailed:!0})})}},{key:"render",value:function(){var e=this.props,t=e.rankingMeta,n=e.renderDetailLink,r=this.state.ranking;return a.a.createElement(g.a,null,a.a.createElement(B,{ranking:r,rankingMeta:t,renderDetailLink:n}))}}]),t}();C($,"propTypes",{rankingMeta:i.a.object.isRequired,renderDetailLink:i.a.func})},62:function(e,t,n){"use strict";function r(e){var t=e.type,n=e.channel;return t||n?"/charts"+"?type=".concat(encodeURIComponent(t),"&index=").concat(encodeURIComponent(n)):"/charts"}function a(e){var t=e.type,n=e.channel,a=e.verbose,o=void 0!==a&&a;return"/j/index/"+r({type:t,channel:n})+(o?"&verbose=1":"")}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n(41)},64:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(10),l=n(14),u=n(16);function s(e){var t=e.label;return a.a.createElement("label",{className:"sale-label"},t)}function f(e){return(e/100).toFixed(2)}function p(e){var t=e.fixedPrice,n=e.salesPrice,o=e.isRebate,i=0===t&&0===n,c=n<t&&n>0,l=t>0&&0===n;return a.a.createElement("span",{className:"sale"},c&&a.a.createElement(s,{label:"特价"}),l&&a.a.createElement(s,{label:"限免"}),o&&a.a.createElement(s,{label:"满减"}),a.a.createElement("span",{className:"price-tag"},a.a.createElement("span",{className:"rmb-tag ".concat(i?"gray":"")},"￥"),i?"免费":t>n?a.a.createElement(r.Fragment,null,a.a.createElement("s",{className:"original-price"},f(t)),a.a.createElement("span",{className:"discount-price"},f(n))):f(t)))}s.propTypes={label:i.a.string.isRequired},p.query=function(){return"\n    fixedPrice\n    salesPrice\n    isRebate\n  "},p.propTypes={fixedPrice:i.a.number.isRequired,salesPrice:i.a.number.isRequired,isRebate:i.a.bool.isRequired};var m=n(24),d=n(12),h=n(26),y=n(27),v=n(17),g=n(46);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 18"},t),a.a.createElement("circle",{cx:"18.48",cy:"16.6",r:"1.4",fill:"#68abb7"}),a.a.createElement("circle",{cx:"5.81",cy:"16.6",r:"1.4",fill:"#68abb7"}),a.a.createElement("path",{d:"M21.19 2.43H4l-.49-2A.5.5 0 0 0 3 0H.5a.5.5 0 0 0 0 1h2.16l3.43 12.87a.5.5 0 0 0 .49.38h12.83a.5.5 0 0 0 0-1H7l-.32-1.15H19a1.3 1.3 0 0 0 1.22-1L22 3.41a.78.78 0 0 0-.81-.98zm-1.94 8.47a.31.31 0 0 1-.25.2H6.41L4.28 3.43H21z",fill:"#68abb7"}))};function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 18"},t),a.a.createElement("path",{d:"M21.19 2.43H4l-.49-2A.5.5 0 0 0 3 0H.5a.5.5 0 0 0 0 1h2.16l3.43 12.87a.5.5 0 0 0 .49.38h12.83a.5.5 0 0 0 0-1H7l-.32-1.15H19a1.3 1.3 0 0 0 1.22-1L22 3.41a.78.78 0 0 0-.81-.98zm-1.94 8.47a.31.31 0 0 1-.25.2H6.41L4.28 3.43H21z",fill:"#ddd"}),a.a.createElement("circle",{cx:"18.48",cy:"16.6",r:"1.4",fill:"#ddd"}),a.a.createElement("circle",{cx:"5.81",cy:"16.6",r:"1.4",fill:"#ddd"}),a.a.createElement("path",{fill:"#5dcaad",d:"M16.14 4.19l-4.09 4.2-2.02-2.08-.95.97 2.97 3.05 5.03-5.17-.94-.97z"}))};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 18"},t),a.a.createElement("path",{d:"M12.38 10.01h.91V7.72h2.3V6.8h-2.3V4.51h-.91V6.8h-2.29v.92h2.29v2.29z",fill:"#68abb7"}),a.a.createElement("circle",{cx:"18.48",cy:"16.6",r:"1.4",fill:"#68abb7"}),a.a.createElement("circle",{cx:"5.81",cy:"16.6",r:"1.4",fill:"#68abb7"}),a.a.createElement("path",{d:"M21.19 2.43H4l-.49-2A.5.5 0 0 0 3 0H.5a.5.5 0 0 0 0 1h2.16l3.43 12.87a.5.5 0 0 0 .49.38h12.83a.5.5 0 0 0 0-1H7l-.32-1.15H19a1.3 1.3 0 0 0 1.22-1L22 3.41a.78.78 0 0 0-.81-.98zm-1.94 8.47a.31.31 0 0 1-.25.2H6.41L4.28 3.43H21z",fill:"#68abb7"}))};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 18"},t),a.a.createElement("title",null,"icon-cart-delete"),a.a.createElement("path",{d:"M21.19 2.425H4.027L3.533.378A.5.5 0 0 0 3.048 0H.5a.5.5 0 0 0 0 1h2.158l3.435 12.872a.5.5 0 0 0 .485.378h12.83a.5.5 0 0 0 0-1H6.968l-.29-1.15H19a1.3 1.3 0 0 0 1.225-.986l1.752-7.7a.775.775 0 0 0-.786-.99zM19.25 10.9a.314.314 0 0 1-.248.2H6.408L4.276 3.425H20.95z",fill:"#68abb7"}),a.a.createElement("path",{d:"M13.294 7.72h2.29v-.917h-5.5v.917h3.21zm5.19 7.48a1.4 1.4 0 1 0 1.4 1.4 1.4 1.4 0 0 0-1.4-1.4z",fill:"#68abb7"}),a.a.createElement("circle",{cx:"5.808",cy:"16.6",r:"1.4",fill:"#68abb7"}))};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={width:20,height:18},A=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this,r=C(t).call(this,e),n=!r||"object"!==j(r)&&"function"!=typeof r?T(this):r,I(T(n),"toggleHovered",function(e){n.setState({isHovered:e}),e||n.setState({hasUnhoveredAfterClick:!0})}),I(T(n),"handleClickCartButton",function(e){if(e.preventDefault(),n.setState({hasUnhoveredAfterClick:!1}),h.a.isAnonymous)return Object(y.openLoginDialog)();var t=n.props.worksId,r=!n.state.isAdded;n.setState({isAdded:r}),Object(d.b)("/j/wishlist/",{method:r?"POST":"DELETE",headers:{Accept:d.a.JSON,"Content-Type":d.a.FORM},body:"works_id=".concat(t)}).then(function(e){if(e.r)return n.setState({isAdded:!r}),void alert(e.msg);Object(v.b)(e.count)})}),n.state={isAdded:e.isInWishlist,isHovered:!1,hasUnhoveredAfterClick:!0},n}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,r.Component),n=t,(o=[{key:"render",value:function(){return a.a.createElement(g.a,{className:"btn-cart",href:"#",onHover:this.toggleHovered,onClick:this.handleClickCartButton},this.renderIconCart())}},{key:"renderIconCart",value:function(){var e,t=this.state,n=t.isAdded,r=t.isHovered,o=t.hasUnhoveredAfterClick;return e=r?n?o?N:O:x:n?O:E,a.a.createElement(e,_)}}])&&P(n.prototype,o),t}();I(A,"propTypes",{worksId:i.a.string.isRequired,isInWishlist:i.a.bool.isRequired});var D=n(76);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e){var t=e.works,n=e.stickyKindId,r=e.showRating,o=void 0===r||r,i=e.showWordCount,s=void 0===i||i,f=e.showUpdateTime,d=e.showSaleInfo,h=e.showPurchase,y=e.showProgressInfo,v=void 0===y||y,g=e.shortenKindName,b=e.highlightWords,E=void 0===b?[]:b,w=e.Tag,O=void 0===w?"div":w,k=e.extraClassName,x=void 0===k?"":k,S=e.moreExtraInfo;return a.a.createElement(O,{className:"works-item ".concat(x),"data-works-id":t.id},a.a.createElement("div",{className:"inner"},a.a.createElement(u.a,t),a.a.createElement("div",{className:"info"},a.a.createElement(c.a,q({},t,{highlightWords:E})),a.a.createElement(l.b,q({},t,{highlightWords:E})),a.a.createElement(D.a,q({},t,{highlightWords:E})),a.a.createElement(m.b,{item:t,stickyKindId:n,showRating:o,showWordCount:s,showUpdateTime:f,showProgressInfo:v,shortenKindName:g,moreExtraInfo:S}),d&&a.a.createElement(p,t),h&&(t.isPurchased?a.a.createElement("span",{className:"purchased"},"已购买"):a.a.createElement(A,{worksId:t.id,isInWishlist:t.isInWishlist})))))}n.d(t,"a",function(){return H}),H.propTypes={works:i.a.object.isRequired,stickyKindId:i.a.number,showRating:i.a.bool,showWordCount:i.a.bool,showUpdateTime:i.a.bool,showSaleInfo:i.a.bool,showPurchase:i.a.bool,showProgressInfo:i.a.bool,shortenKindName:i.a.bool,highlightWords:i.a.array,Tag:i.a.string,extraClassName:i.a.string,moreExtraInfo:i.a.arrayOf(i.a.node)},H.query=function(e){var t=e.includeSaleInfo,n=void 0!==t&&t,r=e.includePurchase,a=void 0!==r&&r;return"\n    ".concat(u.a.query(e),"\n    ").concat(c.a.query(e),"\n    ").concat(l.b.query(e),"\n    ").concat(D.a.query(e),"\n    ").concat(m.b.query(e),"\n    ... on WorksBase @include(if: ").concat(n,") {\n      ").concat(p.query(e),"\n    }\n    ... on EbookWorks {\n      ").concat(p.query(e),"\n    }\n    ... on WorksBase @include(if: ").concat(a,") {\n      ... on EbookWorks {\n        id\n        isPurchased(userId: $user_id)\n        isInWishlist(userId: $user_id)\n      }\n    }\n  ")}},67:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n(0),a=n.n(r),o=function(e){var t=e.user,n=e.withStamp,r=void 0!==n&&n,o=e.avatarWidth,i=void 0===o?48:o,c=e.extraClass,l=void 0===c?"":c,u=e.linkable,s=void 0===u||u,f=e.target,p=void 0===f?"_self":f,m=e.icn,d=void 0===m?null:m,h=a.a.createElement("div",{className:"avatar avatar".concat(i," ").concat(l)},r&&a.a.createElement("i",{className:"icon-author-stamp"}),a.a.createElement("div",{className:"inner",style:{width:i+"px",height:i+"px",backgroundImage:"url(".concat(t.avatar,")"),backgroundSize:"cover",backgroundPosition:"center top",borderRadius:i+"px"}}));if(s&&t.url){var y=d?"".concat(t.url,"?icn=").concat(d):t.url;return a.a.createElement("a",{className:"lnk-avatar",href:y,target:p},h)}return h},i=function(e){var t=e.user,n=e.maxLength,r=e.extraClass,o=void 0===r?"":r,i=e.linkable,c=void 0===i||i,l=e.target,u=void 0===l?"_self":l,s=e.icn,f=t.agentName||t.name,p=n?f.substr(0,n):f;if(c&&t.url){var m=s?"".concat(t.url,"?icn=").concat(s):t.url;return a.a.createElement("a",{className:o,href:m,target:u},p)}return a.a.createElement("span",{className:o},p)}},68:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(8),i=n(1),c=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){e?document.documentElement.setAttribute("modal-opened",""):document.documentElement.removeAttribute("modal-opened")}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return this,r=(e=s(t)).call.apply(e,[this].concat(o)),n=!r||"object"!==l(r)&&"function"!=typeof r?f(this):r,m(f(n),"handleClickBackground",function(e){e.target===e.currentTarget&&n.props.maskClosable&&n.props.onClose()}),n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.props.freezeBackground&&d(!0)}},{key:"componentDidUpdate",value:function(e){this.props.freezeBackground!==e.freezeBackground&&d(this.props.freezeBackground)}},{key:"componentWillUnmount",value:function(){d(!1)}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.className,r=e.children,i=e.title;return Object(o.createPortal)(a.a.createElement("div",{id:"modal-overlay",className:n,onClick:this.handleClickBackground},a.a.createElement("div",{className:"overlay-stick"}),a.a.createElement("div",{className:"overlay-content"},a.a.createElement("div",{className:"overlay-slave"},a.a.createElement("div",{id:"modal"},a.a.createElement("div",{className:"modal-hd"},i&&a.a.createElement("h1",{className:"modal-title"},i),a.a.createElement("button",{className:"btn-close",onClick:t},"×")),a.a.createElement("div",{className:"modal-bd"},r))))),document.body)}}])&&u(n.prototype,i),t}();m(h,"propTypes",{onClose:c.a.func.isRequired,maskClosable:c.a.bool,children:c.a.node.isRequired,className:c.a.string,title:c.a.string,freezeBackground:c.a.bool}),m(h,"defaultProps",{freezeBackground:!0}),t.a=h},69:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return i});var a=window,o=document;function i(){window.scrollTo.apply(window,arguments)}!function(){if(!("scrollBehavior"in o.documentElement.style)){var e=a.HTMLElement||a.Element,t=200,n={scroll:a.scroll||a.scrollTo,scrollBy:a.scrollBy,scrollIntoView:e.prototype.scrollIntoView},i=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now;a.scroll=a.scrollTo=function(){l(arguments[0])?n.scroll.call(a,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):s.call(a,o.body,~~arguments[0].left,~~arguments[0].top)},a.scrollBy=function(){l(arguments[0])?n.scrollBy.call(a,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):s.call(a,o.body,~~arguments[0].left+(a.scrollX||a.pageXOffset),~~arguments[0].top+(a.scrollY||a.pageYOffset))},e.prototype.scrollIntoView=function(){if(l(arguments[0]))n.scrollIntoView.call(this,arguments[0]||!0);else{var e=function(e){var t,n,r;do{t=(e=e.parentNode)===o.body,n=e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth,r="visible"===a.getComputedStyle(e,null).overflow}while(!t&&(!n||r));return t=n=r=null,e}(this),t=e.getBoundingClientRect(),r=this.getBoundingClientRect();e!==o.body?(s.call(this,e,e.scrollLeft+r.left-t.left,e.scrollTop+r.top-t.top),a.scrollBy({left:t.left,top:t.top,behavior:"smooth"})):a.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}}}function c(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if("object"!==r(e)||null===e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"===r(e)&&"smooth"===e.behavior)return!1;throw new TypeError("behavior not valid")}function u(e){e.frame=a.requestAnimationFrame(u.bind(a,e));var n,r,o,c,l=(i()-e.startTime)/t;c=l=l>1?1:l,n=.5*(1-Math.cos(Math.PI*c)),r=e.startX+(e.x-e.startX)*n,o=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,r,o),r!==e.x||o!==e.y||a.cancelAnimationFrame(e.frame)}function s(e,t,r){var l,s,f,p,m=i();e===o.body?(l=a,s=a.scrollX||a.pageXOffset,f=a.scrollY||a.pageYOffset,p=n.scroll):(l=e,s=e.scrollLeft,f=e.scrollTop,p=c),u({scrollable:l,method:p,startTime:m,startX:s,startY:f,x:t,y:r,frame:void 0})}}()},73:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(201),l=n.n(c);function u(e){var t=e.searchWords,n=e.textToHighlight,r=e.className;return t&&0!==t.length?a.a.createElement(l.a,e):a.a.createElement("span",{className:r},n)}u.propTypes={searchWords:i.a.any,textToHighlight:i.a.string,className:i.a.string}},74:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t=e.color,n=e.hoverColor,r=e.Tag,o=void 0===r?"a":r,i=e.children,l=e.className,u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["color","hoverColor","Tag","children","className"]),s="unhover-"+t.toLowerCase().slice(1),f="hover-"+n.toLowerCase().slice(1);return a.a.createElement(o,c({},u,{className:"".concat(l," ").concat(s," ").concat(f)}),i,a.a.createElement("style",null,".".concat(s," { background-color: ").concat(t,"; }"),".".concat(f,":hover { background-color: ").concat(n,"; }")))}l.propTypes={color:i.a.string.isRequired,hoverColor:i.a.string.isRequired,Tag:i.a.any,children:i.a.node,className:i.a.string}},75:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(52),l=n(32),u=500,s=120;function f(e){var t=e.Tag,n=void 0===t?"div":t,r=e.animate,o=void 0!==r&&r,i=e.coverHeight,f=void 0===i?120:i,p=f/s*u,m=f;return a.a.createElement(n,{className:"works-item is-loading"},a.a.createElement(c.a,{animate:o,width:u,height:s,className:"works-loader",primaryColor:l.$blue15,secondaryColor:l.$blue10,style:{height:m,width:p},preserveAspectRatio:"xMinYMin slice"},a.a.createElement("rect",{x:0,y:0,rx:2,ry:2,width:80,height:120}),a.a.createElement("rect",{x:95,y:0,rx:2,ry:2,width:135,height:20}),a.a.createElement("rect",{x:95,y:26,rx:2,ry:2,width:77,height:13}),a.a.createElement("rect",{x:95,y:55,rx:2,ry:2,width:410,height:13}),a.a.createElement("rect",{x:95,y:75,rx:2,ry:2,width:300,height:13}),a.a.createElement("rect",{x:95,y:102,rx:2,ry:2,width:50,height:13}),a.a.createElement("rect",{x:150,y:102,rx:2,ry:2,width:50,height:13}),a.a.createElement("rect",{x:205,y:102,rx:2,ry:2,width:50,height:13})))}f.propTypes={Tag:i.a.string,animate:i.a.bool,coverHeight:i.a.number}},76:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(73);function l(e){var t=e.abstract,n=e.editorHighlight,r=e.highlightWords,o=n||t;return a.a.createElement("div",{className:"intro ".concat(n?"is-editor-rec":"")},a.a.createElement(c.a,{searchWords:r,textToHighlight:o}))}l.propTypes={abstract:i.a.string.isRequired,editorHighlight:i.a.string,highlightWords:i.a.any},l.query=function(){return"\n    abstract\n    editorHighlight\n  "}},77:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(8),i=n(1),c=n.n(i),l=n(9),u=n.n(l),s=n(204),f=n.n(s),p=n(44),m=n.n(p),d=n(205),h=n.n(d),y=n(68),v=n(92),g=n.n(v),b=n(135),E=n(153),w=n.n(E);function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){k(e,t,n[t])})}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return e.replace(/\s+\|\s+豆瓣阅读/g,"")}function S(e){var t=e.title,n=e.desc,r=e.image,o=e.wechatImage,i=e.url,c=e.comment,l=e.keywords;return a.a.createElement(w.a,{titleTemplate:"%s | 豆瓣阅读"},a.a.createElement("title",null,x(t)),a.a.createElement("meta",{name:"description",content:n}),l&&a.a.createElement("meta",{name:"keywords",content:l}),a.a.createElement("meta",{property:"og:type",content:"website"}),a.a.createElement("meta",{property:"og:title",content:x(t)}),a.a.createElement("meta",{property:"og:description",content:n}),a.a.createElement("meta",{property:"og:locale",content:"zh_CN"}),a.a.createElement("meta",{property:"og:site_name",content:"豆瓣阅读"}),a.a.createElement("meta",{property:"og:image",content:r}),i&&a.a.createElement("meta",{property:"og:url",content:i}),a.a.createElement("meta",{name:"twitter:card",content:"summary"}),a.a.createElement("meta",{name:"twitter:title",content:t}),a.a.createElement("meta",{name:"twitter:description",content:n}),a.a.createElement("meta",{name:"twitter:site",content:"@doubanread"}),a.a.createElement("meta",{name:"twitter:domain",content:"read.douban.com"}),a.a.createElement("meta",{name:"twitter:image",content:r}),i&&a.a.createElement("meta",{name:"twitter:url",content:i}),o&&a.a.createElement("meta",{property:"weixin:image",content:o}),c&&a.a.createElement("meta",{property:"share:comment",content:c}))}function N(e){var t=e.title,n=e.desc,r=e.image,o=void 0===r?window.Ark.defaultShareImage:r,i=e.url;return a.a.createElement(w.a,{titleTemplate:"%s | 豆瓣阅读"},a.a.createElement("title",null,x(t)),a.a.createElement("meta",{name:"description",content:n}),a.a.createElement("meta",{property:"weixin:title",content:x(t)}),a.a.createElement("meta",{property:"weixin:description",content:n}),a.a.createElement("meta",{property:"weixin:image",content:o}),a.a.createElement("meta",{property:"share:url",content:i}))}function j(e){var t=e.seoData;return g.a.isWeixin()?a.a.createElement(N,t):a.a.createElement(S,t)}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}function A(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?q(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}S.propTypes=O({},["title","desc","image","wechatImage","url","comment","keywords"].reduce(function(e,t){return O({},e,k({},t,c.a.string))},{})),N.propTypes=O({},["title","desc","image","url"].reduce(function(e,t){return O({},e,k({},t,c.a.string))},{})),j.propTypes={seoData:c.a.object.isRequired},n.d(t,"a",function(){return z}),n.d(t,"b",function(){return F});var M=[{option:"douban",name:"豆瓣"},{option:"weibo",name:"微博"},{option:"qqim",name:" QQ 好友"},{option:"qzone",name:" QQ 空间"}],$=Object(r.createContext)({shareData:null}),L=function(e){function t(){var e,n;R(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return B(q(n=A(this,(e=D(t)).call.apply(e,[this].concat(a)))),"state",{showWechatQRCodeModal:!1}),B(q(n),"handleClickWechat",function(e){e.preventDefault();var t=g.a.isWeixin(),r=g.a.isMobile();return t?alert("请点击右上方 ··· 进行分享"):r?alert("请复制网页地址至微信中打开进行分享"):void n.setState({showWechatQRCodeModal:!0})}),n}return H(t,r.Component),_(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.shareData,o=t.snsDataOptions,i=t.shareTipText,c=t.isSticky,l=T(t,["shareData","snsDataOptions","shareTipText","isSticky"]),s=this.state.showWechatQRCodeModal,f=Object(b.getSNSData)(n,o),p=a.a.createElement("div",C({className:u()("share-buttons icon-large icon-circle",{sticky:c})},l),i&&a.a.createElement("p",{className:"share-tip"},i),M.map(function(e){var t=e.option,n=e.name;return a.a.createElement("a",{className:"rec-".concat(t),key:t,href:f[t].url,target:"_blank"},"分享到",n)}),a.a.createElement("a",{href:"#",className:"rec-wechat",onClick:this.handleClickWechat}));return a.a.createElement(r.Fragment,null,p,s&&a.a.createElement(V,{url:Object(b.getUrlWithIcn)(n.url,"wechat"),onClose:function(){return e.setState({showWechatQRCodeModal:!1})}}))}}]),t}();function W(e){return a.a.createElement($.Consumer,null,function(t){var n=t.shareData;return a.a.createElement(L,C({shareData:n},e))})}B(L,"propTypes",{shareData:c.a.object,snsDataOptions:c.a.object,shareTipText:c.a.string,isSticky:c.a.bool}),B(L,"defaultProps",{shareData:{},snsDataOptions:{},shareTipText:"分享至",isSticky:!1});var z=function(e){function t(){var e,n;R(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return B(q(n=A(this,(e=D(t)).call.apply(e,[this].concat(a)))),"state",{sticky:!1}),n}return H(t,r.Component),_(t,[{key:"componentDidMount",value:function(){var e=this,n=m()(function(){e.isUnmounted||e.setState({sticky:window.scrollY>e.props.offsetTop-t.stickyTop})},200);window.addEventListener("scroll",n),this.unbindEvents=function(){window.removeEventListener("scroll",n)}}},{key:"componentWillUnmount",value:function(){this.unbindEvents(),this.isUnmounted=!0}},{key:"render",value:function(){var e=this.props.offsetTop,n=this.state.sticky,i={position:n?"fixed":"absolute",top:n?t.stickyTop:e};return a.a.createElement(r.Fragment,null,Object(o.createPortal)(a.a.createElement(W,{style:i,isSticky:!0}),document.body))}}]),t}();B(z,"defaultProps",{offsetTop:220}),B(z,"propTypes",{offsetTop:c.a.number}),B(z,"stickyTop",110);var U=Object(b.getShareOptionsDefaults)();function F(e){var t=e.children,n=T(e,["children"]),r=n.path;return n.url||(n.url=r?"".concat(location.protocol,"//").concat(location.host).concat(r):location.href),n=h()(n,U),a.a.createElement($.Provider,{value:{shareData:n}},a.a.createElement(j,{seoData:n}),t)}function V(e){var t=e.url,n=e.onClose;return a.a.createElement(y.a,{className:"wechat-qrcode-modal",onClose:n,maskClosable:!0},a.a.createElement("div",{className:"wechat-qrcode"},a.a.createElement("div",{className:"qr-container"},a.a.createElement(f.a,{value:t})),a.a.createElement("div",{className:"help"},"打开微信“扫一扫”，扫码后点击右上角",a.a.createElement("span",{className:"icon-wechat-more"}),"按钮即可进行分享。")))}F.propTypes={children:c.a.node.isRequired},V.propTypes={url:c.a.string.isRequired,onClose:c.a.func.isRequired}},88:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),a=n.n(r),o=n(1),i=n.n(o);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return this,r=(e=s(t)).call.apply(e,[this].concat(o)),n=!r||"object"!==c(r)&&"function"!=typeof r?f(this):r,m(f(n),"handle",function(e){var t=n.props,r=t.onClickOutside,a=t.boundElements,o=void 0===a?[]:a;[n.containerEl].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(o)).every(function(t){return!t.contains(e.target)})&&r(e)}),n}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.Component),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=(t.onClickOutside,t.eventType,t.Tag),r=(t.boundElements,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["onClickOutside","eventType","Tag","boundElements"]));return a.a.createElement(n,l({},r,{ref:function(t){return e.containerEl=t}}))}},{key:"componentDidMount",value:function(){document.addEventListener(this.props.eventType,this.handle,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(this.props.eventType,this.handle,!0)}}])&&u(n.prototype,o),t}();m(d,"propTypes",{onClickOutside:i.a.func.isRequired,Tag:i.a.string,eventType:i.a.string,boundElements:i.a.array}),m(d,"defaultProps",{eventType:"click",Tag:"div"})},89:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){e.styles;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["styles"]);return a.a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},t),a.a.createElement("path",{fill:"#fa595f",d:"M6.688 3.125l3.37.694-2.345 2.619L8.14 10 5.03 8.475 1.923 10l.428-3.563L0 3.82l3.37-.694L5.028 0z"}))}},90:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(155),l=n(89);function u(e){var t=e.book,n=e.showFrom,r=void 0===n||n,o=e.showRatingCount,i=void 0===o||o;if(!t.averageRating)return null;var u=t.url,s=t.averageRating,f=t.ratingCount;return a.a.createElement("span",{className:"book-rating"},a.a.createElement(l.a,{className:"rating-star fill-current-color"}),a.a.createElement("span",{className:"rating-score"},(2*s).toFixed(1)),(r||i)&&a.a.createElement("a",{href:u,target:"_blank"},i&&a.a.createElement("span",{className:"rating-count"},Object(c.a)(f)," 评价"),r&&a.a.createElement("span",{className:"rating-from"},"来自豆瓣读书")))}u.propTypes={book:i.a.shape({url:function(e){var t=i.a.string;return(e.showFrom||e.showRatingCount?t.isRequired:t).apply(this,arguments)},averageRating:i.a.number,ratingCount:i.a.number.isRequired}),showFrom:i.a.bool,showRatingCount:i.a.bool},u.query=function(){return"\n    ... on EbookWorks {\n      book {\n        url\n        averageRating\n\n      }\n    }\n  "}},92:function(e,t,n){var r;void 0===(r=function(){var e={},t=window,n=document,r=["webkit","moz"],a=navigator.userAgent,o=/\[Ark(?:[\w-]*)\/([\d.]+[\w-]*)\]/,i=/MicroMessenger/i,c=/Weibo/i,l=/com\.douban\.frodo/i;e.hasTouch=function(){return!!("ontouchstart"in t||(t.PointerEvent||t.MSPointerEvent)&&/IEMobile/.test(a)||t.DocumentTouch&&n instanceof DocumentTouch)},e.hasPushState=function(){return!(!t.history||!t.history.pushState)},e.canFullscreen=function(){for(var e=0;e<r.length;e++)if(n[r[e]+"CancelFullScreen"])return!0;return!!document.cancelFullScreen||!1},e.standalone=function(){return t.navigator.standalone},e.hasOrientationEvent=function(){return!!("DeviceOrientationEvent"in t)},e.checkWebkitScrollNative=function(){return"WebkitOverflowScrolling"in document.documentElement.style||!(a.indexOf("Android")>=0&&parseFloat(a.slice(a.indexOf("Android")+8))<3)},e.isWeixin=function(){return i.test(a)},e.isWeibo=function(){return c.test(a)},e.isFrodo=function(){return l.test(a)},e.isInApp=function(){return o.test(a)},e.isMobile=function(){return this.isAndroid||this.isiPhone},e.isRetina=function(){return t.devicePixelRatio>1||!(!t.matchMedia||!t.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),        (min--moz-device-pixel-ratio: 1.5),        (-o-min-device-pixel-ratio: 3/2),        (min-resolution: 1.5dppx)").matches)};for(var u=["iPhone","Android","iPad"],s=0,f=u.length;s<f;s++){var p=u[s];e["is"+p]=new RegExp(p,"i").test(a)}return e.isIOS=e.isiPhone||e.isiPad,e.hasPinchZoom=function(){return!!e.isIOS||(a.indexOf("Android")>=0&&parseFloat(a.slice(a.indexOf("Android")+8))>=4||void 0)},e.hasWebStorage=function(){try{var e="Storage"in window&&null!==window.Storage;return e&&(localStorage.setItem("storage",""),localStorage.removeItem("storage")),e}catch(e){return!1}},e}.apply(t,[]))||(e.exports=r)}}]);
