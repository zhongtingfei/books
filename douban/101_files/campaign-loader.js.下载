!function(){var pluginName,pluginConstructor,ga,rNonQuerystring=/\+/g,utils_deparam=function(string){for(var params={},paramsArray=string.replace(rNonQuerystring," ").split("&"),i=0,l=paramsArray.length;i<l;i++){var pair=paramsArray[i].split("="),paramName=decodeURIComponent([pair[0]]),paramValue=decodeURIComponent([pair[1]]);params[paramName]=paramValue}return params},utils_isUndefined=function(obj){return void 0===obj},trackingSources={dcn:"campaignName",dcs:"campaignSource",dcm:"campaignMedium",dcc:"campaignContent",dct:"campaignKeyword"},CampaignLoader=function(tracker,config){this.tracker=tracker,this.isDebug=config.debug};CampaignLoader.prototype.loadCampaignFields=function(){var params=utils_deparam(window.location.search.replace("?",""));for(var customKey in trackingSources)if(!utils_isUndefined(params[customKey])){var nameKey=trackingSources[customKey],nameValue=params[customKey];this.tracker.set(nameKey,nameValue),this.debugMessage("Loaded campaign name: "+nameKey+" value: "+nameValue)}},CampaignLoader.prototype.setDebug=function(enabled){this.isDebug=enabled},CampaignLoader.prototype.debugMessage=function(message){this.isDebug&&console&&console.debug(message)},pluginName="campaignLoader",pluginConstructor=CampaignLoader,(ga=window[window.GoogleAnalyticsObject||"ga"])&&ga("provide",pluginName,pluginConstructor)}();
